# Complete Project Initialization and Deployment Script for HFT System

## Project Overview

This project implements a comprehensive **High-Frequency Trading (HFT) System**. The system integrates components for data acquisition, data processing, feature engineering, model training, execution, and risk management, all through a user-friendly **Streamlit UI**. The repository is designed with modularity and scalability in mind, allowing developers to easily modify or extend the codebase.

### Features:

- **Data Acquisition**: Fetches market data from APIs, including Alpaca, and sentiment data from Twitter.
- **Data Processing**: Cleans and stores data using InfluxDB.
- **Feature Engineering**: Generates technical indicators and sentiment scores.
- **Deep Reinforcement Learning**: Models using PyTorch for trade decisions.
- **Execution Engine**: Executes trades via Alpaca API.
- **Risk Management**: Implements position limits and value-at-risk (VaR) strategies.
- **Testing**: Unit tests are included to ensure the reliability of each component.
- **Streamlit UI**: Interactive UI for parameter tuning, data visualization, model management, and trade execution.

---

## Folder Structure

The script creates the following folder structure and files:

```
hft_system/
│
├── app.py                          # Main entry point for Streamlit application
├── setup.py                        # Setup script for package installation
├── pyproject.toml                  # Poetry config file for package management
├── .env                            # Environment variables file for API keys and DB connection
├── README.md                       # Project documentation
│
├── hft_system/
│   ├── __init__.py                 # Marks the directory as a Python package
│   ├── data_acquisition.py         # Data fetching from Alpaca API and Twitter
│   ├── data_processing.py          # Data cleaning and storage using InfluxDB
│   ├── feature_engineering.py      # Generate technical indicators and sentiment analysis
│   ├── models.py                   # Deep Reinforcement Learning models for trading
│   ├── execution.py                # Trade execution using Alpaca API
│   ├── risk_management.py          # Risk management including VaR calculations
│   └── utils.py                    # Utility functions (e.g., loading config)
│
├── tests/
│   ├── __init__.py                 # Marks the directory as a Python package
│   └── test_hft_system.py          # Unit tests for the entire HFT system
└── logs/                           # Directory to store logs
```

---

## File Descriptions

### `app.py`
This file contains the main logic of the **Streamlit UI** that drives the HFT system. It pulls together all the modules—data acquisition, processing, feature engineering, model training, execution, and risk management—and exposes them via an interactive dashboard.

### `setup.py`
A `setup.py` script to manage package dependencies and installation. It includes necessary libraries like Alpaca, Pandas, PyTorch, Streamlit, etc.

### `pyproject.toml`
Configuration file for managing dependencies using **Poetry**. It defines the project's metadata, Python version, and package dependencies.

### `.env`
An environment configuration file storing API keys and database connection strings. You need to update this file with your specific credentials.

Example contents:
```
ALPACA_API_KEY=your_alpaca_api_key
ALPACA_SECRET_KEY=your_alpaca_secret_key
TWITTER_CONSUMER_KEY=your_twitter_consumer_key
TWITTER_CONSUMER_SECRET=your_twitter_consumer_secret
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=your_influxdb_token
INFLUXDB_ORG=your_influxdb_org
INFLUXDB_BUCKET=your_influxdb_bucket
```

### `hft_system/`
This is the main package that contains various modules for the system:

- **`data_acquisition.py`**: Module to fetch market and sentiment data from Alpaca and Twitter APIs.
- **`data_processing.py`**: Contains logic to clean and store data in InfluxDB.
- **`feature_engineering.py`**: Generates technical indicators like SMA, EMA, RSI, and sentiment scores from Twitter data.
- **`models.py`**: Implements a deep reinforcement learning agent and sub-models for trading strategies.
- **`execution.py`**: Contains logic to execute trades via Alpaca.
- **`risk_management.py`**: Handles risk management strategies such as position limits and value-at-risk (VaR) calculations.
- **`utils.py`**: Provides helper functions such as loading configuration from YAML files.

### `tests/`
Contains unit tests to ensure the components work as expected.

- **`test_hft_system.py`**: Unit tests for all the main modules including data acquisition, processing, feature engineering, models, execution, and risk management.

### `logs/`
Directory to store log files generated by the system for monitoring and debugging purposes.

---

## Setup and Installation

### Prerequisites

1. **Python 3.8+**
2. **InfluxDB**: Install and configure InfluxDB for data storage.
3. **API Keys**: Obtain API keys for Alpaca and Twitter.

### Installation Steps

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/yourusername/hft_system.git
   cd hft_system
   ```

2. **Run the Initialization Script**:
   ```bash
   chmod +x init.sh
   ./init.sh
   ```

3. **Install Dependencies**:
   Using pip:
   ```bash
   pip install -r requirements.txt
   ```
   Or using Poetry:
   ```bash
   poetry install
   ```

4. **Set Up Environment Variables**:
   Update the `.env` file with your API keys and InfluxDB settings.

5. **Initialize Databases**:
   Ensure that InfluxDB is installed and running. Create the necessary buckets and configure them in the `.env` file.

---

## How to Run the Application

1. **Run the Streamlit App**:
   ```bash
   streamlit run app.py
   ```

2. **Interact with the UI**:
   - **Trading Parameters**: Adjust stop-loss, take-profit, and other trading parameters.
   - **Data Visualization**: View market data and technical indicators.
   - **Model Management**: Train and evaluate models.
   - **Execution**: Execute real-time trades or run simulations.

---

## Testing

To run the unit tests:

```bash
python -m unittest discover hft_system/tests
```

These tests ensure the reliability of the components like data fetching, processing, feature engineering, model prediction, and order execution.

---

## Conclusion

This repository provides a complete, modular, and scalable solution for building a high-frequency trading system with deep reinforcement learning and a user-friendly UI. The `init.sh` script simplifies setup, ensuring the project is fully initialized and ready for development or production deployment.

---

## Disclaimer

This project is for educational purposes only. High-frequency trading involves significant financial risk. It is essential to test the system thoroughly in a simulated environment before live trading. This code does not constitute financial advice. Always handle API keys and sensitive information securely.
