{
  "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623",
  "forks_url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/forks",
  "commits_url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/commits",
  "id": "60cfc2d33708847502f72abc14932623",
  "node_id": "G_kwDOACzGetoAIDYwY2ZjMmQzMzcwODg0NzUwMmY3MmFiYzE0OTMyNjIz",
  "git_pull_url": "https://gist.github.com/60cfc2d33708847502f72abc14932623.git",
  "git_push_url": "https://gist.github.com/60cfc2d33708847502f72abc14932623.git",
  "html_url": "https://gist.github.com/ruvnet/60cfc2d33708847502f72abc14932623",
  "files": {
    "notebook.ipynb": {
      "filename": "notebook.ipynb",
      "type": "text/plain",
      "language": "Jupyter Notebook",
      "raw_url": "https://gist.githubusercontent.com/ruvnet/60cfc2d33708847502f72abc14932623/raw/8fd727dafb8112f31724e9661f5229d409de0f17/notebook.ipynb",
      "size": 6653,
      "truncated": false,
      "content": "{\n  \"cells\": [\n    {\n      \"cell_type\": \"markdown\",\n      \"metadata\": {\n        \"id\": \"view-in-github\",\n        \"colab_type\": \"text\"\n      },\n      \"source\": [\n        \"<a href=\\\"https://colab.research.google.com/gist/ruvnet/60cfc2d33708847502f72abc14932623/notebook.ipynb\\\" target=\\\"_parent\\\"><img src=\\\"https://colab.research.google.com/assets/colab-badge.svg\\\" alt=\\\"Open In Colab\\\"/></a>\"\n      ]\n    },\n    {\n      \"cell_type\": \"markdown\",\n      \"metadata\": {\n        \"id\": \"PaRTbRFQ162_\"\n      },\n      \"source\": [\n        \"# Demonstrating DSPy Capabilities\\n\",\n        \"\\n\",\n        \"This notebook showcases the capabilities of the DSPy framework for programming foundation models, focusing on language models (LMs) and retrieval models (RMs).\"\n      ]\n    },\n    {\n      \"cell_type\": \"code\",\n      \"execution_count\": null,\n      \"metadata\": {\n        \"id\": \"35e7dVu-163G\"\n      },\n      \"outputs\": [],\n      \"source\": [\n        \"!pip install dspy-ai\\n\",\n        \"!pip install dspy-ai[qdrant]\"\n      ]\n    },\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"!wget -q https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip\\n\",\n        \"!unzip -qq ngrok-stable-linux-amd64.zip\"\n      ],\n      \"metadata\": {\n        \"id\": \"UUEW68h64BVu\"\n      },\n      \"execution_count\": 4,\n      \"outputs\": []\n    },\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"!./ngrok authtoken <your_auth_token_here>\"\n      ],\n      \"metadata\": {\n        \"id\": \"ooeiAQrE443q\",\n        \"outputId\": \"e6e54fdf-90d4-468e-a5da-cd14a762438f\",\n        \"colab\": {\n          \"base_uri\": \"https://localhost:8080/\"\n        }\n      },\n      \"execution_count\": 8,\n      \"outputs\": [\n        {\n          \"output_type\": \"stream\",\n          \"name\": \"stdout\",\n          \"text\": [\n            \"Authtoken saved to configuration file: /root/.ngrok2/ngrok.yml\\n\"\n          ]\n        }\n      ]\n    },\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"get_ipython().system_raw('./ngrok http 8080 &')\\n\"\n      ],\n      \"metadata\": {\n        \"id\": \"VJAEaqap5wpn\"\n      },\n      \"execution_count\": 16,\n      \"outputs\": []\n    },\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"get_ipython().system_raw('./ngrok authtoken <your_auth_token_here>')\\n\",\n        \"get_ipython().system_raw('ngrok http 80 &')\"\n      ],\n      \"metadata\": {\n        \"id\": \"l_tfnmL24Fiq\"\n      },\n      \"execution_count\": 19,\n      \"outputs\": []\n    },\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"!chmod +x ngrok\"\n      ],\n      \"metadata\": {\n        \"id\": \"zRbICSPK40VF\"\n      },\n      \"execution_count\": 10,\n      \"outputs\": []\n    },\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"! curl -s http://localhost:8080/api/tunnels | python3 -c \\\\\\n\",\n        \"    \\\"import sys, json; print(json.load(sys.stdin)['tunnels'][0]['public_url'])\\\"\\n\"\n      ],\n      \"metadata\": {\n        \"id\": \"mbTFtQ4-4Ha8\"\n      },\n      \"execution_count\": null,\n      \"outputs\": []\n    },\n    {\n      \"cell_type\": \"markdown\",\n      \"metadata\": {\n        \"id\": \"v5YU9D7F163J\"\n      },\n      \"source\": [\n        \"## Setting Up the Environment\\n\",\n        \"\\n\",\n        \"First, let's import DSPy and configure it with a language model and a retrieval model.\"\n      ]\n    },\n    {\n      \"cell_type\": \"code\",\n      \"execution_count\": 13,\n      \"metadata\": {\n        \"id\": \"qvVf_dAv163K\"\n      },\n      \"outputs\": [],\n      \"source\": [\n        \"import dspy\\n\",\n        \"from dspy.retrieve.qdrant_rm import QdrantRM\\n\",\n        \"from qdrant_client import QdrantClient\\n\",\n        \"\\n\",\n        \"turbo = dspy.OpenAI(model=\\\"gpt-3.5-turbo\\\")\\n\",\n        \"qdrant_client = QdrantClient()  # Defaults to a local instance at http://localhost:6333/\\n\",\n        \"qdrant_retriever_model = QdrantRM(\\\"collection-name\\\", qdrant_client, k=3)\\n\",\n        \"\\n\",\n        \"dspy.settings.configure(lm=turbo, rm=qdrant_retriever_model)\"\n      ]\n    },\n    {\n      \"cell_type\": \"markdown\",\n      \"metadata\": {\n        \"id\": \"GpfPg7_M163L\"\n      },\n      \"source\": [\n        \"## Creating a Module with DSPy\\n\",\n        \"\\n\",\n        \"Next, we define a DSPy module to utilize the retriever and generate an answer.\"\n      ]\n    },\n    {\n      \"cell_type\": \"code\",\n      \"execution_count\": 14,\n      \"metadata\": {\n        \"id\": \"BI5q5W31163M\"\n      },\n      \"outputs\": [],\n      \"source\": [\n        \"class RAG(dspy.Module):\\n\",\n        \"    def __init__(self, num_passages=3):\\n\",\n        \"        super().__init__()\\n\",\n        \"        self.retrieve = dspy.Retrieve(k=num_passages)\\n\",\n        \"\\n\",\n        \"    def forward(self, question):\\n\",\n        \"        context = self.retrieve(question).passages\\n\",\n        \"        # Here, integrate the context with a language model to generate an answer\\n\",\n        \"        # This is a placeholder for the integration logic\\n\",\n        \"        return context\"\n      ]\n    },\n    {\n      \"cell_type\": \"markdown\",\n      \"metadata\": {\n        \"id\": \"nVGZBMQB163N\"\n      },\n      \"source\": [\n        \"## Example Usage of the Module\\n\",\n        \"\\n\",\n        \"Finally, let's use our DSPy module to retrieve information based on a question.\"\n      ]\n    },\n    {\n      \"cell_type\": \"code\",\n      \"execution_count\": null,\n      \"metadata\": {\n        \"id\": \"SJ4yxoMh163O\"\n      },\n      \"outputs\": [],\n      \"source\": [\n        \"rag_instance = RAG(num_passages=3)\\n\",\n        \"question = \\\"What is the capital of France?\\\"\\n\",\n        \"context_passages = rag_instance(question)\\n\",\n        \"\\n\",\n        \"for idx, passage in enumerate(context_passages):\\n\",\n        \"    print(f'{idx+1}] {passage}\\\\n')\"\n      ]\n    },\n    {\n      \"cell_type\": \"markdown\",\n      \"metadata\": {\n        \"id\": \"1BqBDDmm163P\"\n      },\n      \"source\": [\n        \"This notebook serves as a basic demonstration of setting up and utilizing DSPy for a simple retrieval-augmented generation task. For real-world applications, the `forward` method in the `RAG` class should be expanded to include the integration of context with the language model to generate coherent and contextually relevant answers.\"\n      ]\n    }\n  ],\n  \"metadata\": {\n    \"kernelspec\": {\n      \"display_name\": \"Python 3\",\n      \"language\": \"python\",\n      \"name\": \"python3\"\n    },\n    \"language_info\": {\n      \"codemirror_mode\": {\n        \"name\": \"ipython\",\n        \"version\": 3\n      },\n      \"file_extension\": \".py\",\n      \"mimetype\": \"text/x-python\",\n      \"name\": \"python\",\n      \"nbconvert_exporter\": \"python\",\n      \"pygments_lexer\": \"ipython3\",\n      \"version\": \"3.8.5\"\n    },\n    \"colab\": {\n      \"provenance\": [],\n      \"include_colab_link\": true\n    }\n  },\n  \"nbformat\": 4,\n  \"nbformat_minor\": 0\n}",
      "encoding": "utf-8"
    }
  },
  "public": true,
  "created_at": "2024-03-14T13:17:45Z",
  "updated_at": "2024-03-14T21:39:18Z",
  "description": "60cfc2d33708847502f72abc14932623",
  "comments": 0,
  "user": null,
  "comments_enabled": true,
  "comments_url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/comments",
  "owner": {
    "login": "ruvnet",
    "id": 2934394,
    "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ruvnet",
    "html_url": "https://github.com/ruvnet",
    "followers_url": "https://api.github.com/users/ruvnet/followers",
    "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
    "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
    "organizations_url": "https://api.github.com/users/ruvnet/orgs",
    "repos_url": "https://api.github.com/users/ruvnet/repos",
    "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ruvnet/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "forks": [],
  "history": [
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "d1ac3ca3cb48c039546bc0ea37b862efdbf216d9",
      "committed_at": "2024-03-14T21:39:18Z",
      "change_status": {
        "total": 55,
        "additions": 50,
        "deletions": 5
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/d1ac3ca3cb48c039546bc0ea37b862efdbf216d9"
    },
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "184375fe47feae7c3b40289d58b50364b465dfab",
      "committed_at": "2024-03-14T21:32:52Z",
      "change_status": {
        "total": 71,
        "additions": 3,
        "deletions": 68
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/184375fe47feae7c3b40289d58b50364b465dfab"
    },
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "143d06dc74282dc2c01a3ac42754666284e12f74",
      "committed_at": "2024-03-14T21:32:39Z",
      "change_status": {
        "total": 126,
        "additions": 0,
        "deletions": 126
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/143d06dc74282dc2c01a3ac42754666284e12f74"
    },
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "c081a2fbc1667d83e094d3f25d3d07f2a12d1175",
      "committed_at": "2024-03-14T21:32:24Z",
      "change_status": {
        "total": 203,
        "additions": 3,
        "deletions": 200
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/c081a2fbc1667d83e094d3f25d3d07f2a12d1175"
    },
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "8491be55355ccd18613ac4241d6770b57740752d",
      "committed_at": "2024-03-14T21:32:05Z",
      "change_status": {
        "total": 48,
        "additions": 42,
        "deletions": 6
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/8491be55355ccd18613ac4241d6770b57740752d"
    },
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "07efe766cc252b649e73469bf0ad56d75c920fa3",
      "committed_at": "2024-03-14T21:28:12Z",
      "change_status": {
        "total": 421,
        "additions": 421,
        "deletions": 0
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/07efe766cc252b649e73469bf0ad56d75c920fa3"
    },
    {
      "user": {
        "login": "ruvnet",
        "id": 2934394,
        "node_id": "MDQ6VXNlcjI5MzQzOTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934394?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ruvnet",
        "html_url": "https://github.com/ruvnet",
        "followers_url": "https://api.github.com/users/ruvnet/followers",
        "following_url": "https://api.github.com/users/ruvnet/following{/other_user}",
        "gists_url": "https://api.github.com/users/ruvnet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ruvnet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ruvnet/subscriptions",
        "organizations_url": "https://api.github.com/users/ruvnet/orgs",
        "repos_url": "https://api.github.com/users/ruvnet/repos",
        "events_url": "https://api.github.com/users/ruvnet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ruvnet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "version": "d247eecfc70f0c5698730a8eb9c8b7e748ff8ccf",
      "committed_at": "2024-03-14T13:17:45Z",
      "change_status": {
        "total": 126,
        "additions": 126,
        "deletions": 0
      },
      "url": "https://api.github.com/gists/60cfc2d33708847502f72abc14932623/d247eecfc70f0c5698730a8eb9c8b7e748ff8ccf"
    }
  ],
  "truncated": false,
  "type": "gist",
  "commit": "d1ac3ca3cb48c039546bc0ea37b862efdbf216d9",
  "lastUpdated": "2026-01-30T15:12:42+00:00"
}
