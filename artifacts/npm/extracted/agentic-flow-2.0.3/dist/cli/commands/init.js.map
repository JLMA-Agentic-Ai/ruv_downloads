{"version":3,"file":"init.js","sourceRoot":"","sources":["../../../src/cli/commands/init.ts"],"names":[],"mappings":";AACA;;;;GAIG;AAEH,OAAO,KAAK,EAAE,MAAM,IAAI,CAAC;AACzB,OAAO,KAAK,IAAI,MAAM,MAAM,CAAC;AAC7B,OAAO,EAAE,aAAa,EAAE,MAAM,KAAK,CAAC;AAEpC,MAAM,UAAU,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAClD,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;AAE3C,MAAM,kBAAkB,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA+M1B,CAAC;AAEF,MAAM,iBAAiB,GAAG;IACxB,KAAK,EAAE,0BAA0B;IACjC,kBAAkB,EAAE,yFAAyF;IAC7G,GAAG,EAAE;QACH,yBAAyB,EAAE,MAAM;QACjC,0BAA0B,EAAE,KAAK;QACjC,oBAAoB,EAAE,KAAK;QAC3B,2BAA2B,EAAE,SAAS;KACvC;IACD,WAAW,EAAE;QACX,YAAY,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,KAAK,EAAE,cAAc,CAAC;QACpI,WAAW,EAAE,EAAE;QACf,KAAK,EAAE;YACL,aAAa;YACb,sBAAsB;YACtB,iBAAiB;YACjB,mBAAmB;YACnB,kBAAkB;YAClB,gBAAgB;SACjB;KACF;IACD,KAAK,EAAE;QACL,UAAU,EAAE;YACV;gBACE,OAAO,EAAE,sBAAsB;gBAC/B,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,iEAAiE,EAAE,CAAC;aACzG;YACD;gBACE,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,kEAAkE,EAAE,CAAC;aAC1G;SACF;QACD,WAAW,EAAE;YACX;gBACE,OAAO,EAAE,sBAAsB;gBAC/B,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,4EAA4E,EAAE,CAAC;aACpH;YACD;gBACE,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,mEAAmE,EAAE,CAAC;aAC3G;SACF;QACD,kBAAkB,EAAE;YAClB;gBACE,OAAO,EAAE,sBAAsB;gBAC/B,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,oGAAoG,EAAE,CAAC;aAC5I;SACF;QACD,YAAY,EAAE;YACZ;gBACE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,4EAA4E,EAAE,CAAC;aACpH;SACF;QACD,UAAU,EAAE;YACV;gBACE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,2EAA2E,EAAE,CAAC;aACnH;SACF;QACD,gBAAgB,EAAE;YAChB;gBACE,KAAK,EAAE;oBACL,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,gFAAgF,EAAE;iBAC9H;aACF;SACF;QACD,IAAI,EAAE;YACJ;gBACE,OAAO,EAAE,IAAI;gBACb,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,oEAAoE,EAAE,CAAC;aAC5G;SACF;KACF;IACD,MAAM,EAAE;QACN,MAAM,EAAE,gBAAgB;QACxB,YAAY,EAAE,EAAE;KACjB;IACD,MAAM,EAAE;QACN,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,IAAI;KACd;IACD,UAAU,EAAE;QACV,IAAI,EAAE,SAAS;QACf,OAAO,EAAE,uBAAuB;KACjC;IACD,UAAU,EAAE;QACV,aAAa,EAAE;YACb,OAAO,EAAE,KAAK;YACd,IAAI,EAAE,CAAC,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC;SAC7C;KACF;CACF,CAAC;AAQF;;GAEG;AACH,SAAS,gBAAgB,CAAC,GAAW,EAAE,IAAY,EAAE,UAAmB,KAAK;IAC3E,IAAI,SAAS,GAAG,CAAC,CAAC;IAElB,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;QACxB,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC;QACzB,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;IAC1C,CAAC;IAED,MAAM,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,GAAG,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;IAE7D,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE,CAAC;QAC5B,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAC3C,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAE7C,IAAI,KAAK,CAAC,WAAW,EAAE,EAAE,CAAC;YACxB,SAAS,IAAI,gBAAgB,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC5D,CAAC;aAAM,CAAC;YACN,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACnC,SAAS,EAAE,CAAC;YACZ,IAAI,OAAO,EAAE,CAAC;gBACZ,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;YACxD,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO,SAAS,CAAC;AACnB,CAAC;AAED;;GAEG;AACH,SAAS,oBAAoB;IAC3B,mCAAmC;IACnC,MAAM,cAAc,GAAG;QACrB,0BAA0B;QAC1B,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC;QACpD,yBAAyB;QACzB,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC;QAC9C,4BAA4B;QAC5B,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,CAAC;QACxC,2BAA2B;QAC3B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,EAAE,cAAc,EAAE,SAAS,CAAC;KACvE,CAAC;IAEF,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE,CAAC;QAC/B,IAAI,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC;YACrD,OAAO,CAAC,CAAC;QACX,CAAC;IACH,CAAC;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,iBAAiB,CAAC,IAAc;IACpD,MAAM,OAAO,GAAgB;QAC3B,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACtD,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC1D,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;KAC3D,CAAC;IAEF,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;QACnD,aAAa,EAAE,CAAC;QAChB,OAAO;IACT,CAAC;IAED,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;IAC1B,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;IAC5C,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;IAEjD,OAAO,CAAC,GAAG,CAAC;;;;CAIb,CAAC,CAAC;IAED,+BAA+B;IAC/B,IAAI,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,uDAAuD,CAAC,CAAC;QACrE,OAAO;IACT,CAAC;IAED,IAAI,CAAC;QACH,uCAAuC;QACvC,MAAM,gBAAgB,GAAG,oBAAoB,EAAE,CAAC;QAEhD,IAAI,gBAAgB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,mEAAmE,CAAC,CAAC;YAEjF,0CAA0C;YAC1C,MAAM,WAAW,GAAG,CAAC,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YAChE,IAAI,UAAU,GAAG,CAAC,CAAC;YAEnB,KAAK,MAAM,GAAG,IAAI,WAAW,EAAE,CAAC;gBAC9B,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;gBAChD,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;gBAE1C,IAAI,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;oBAC1B,MAAM,KAAK,GAAG,gBAAgB,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;oBACjE,UAAU,IAAI,KAAK,CAAC;oBACpB,OAAO,CAAC,GAAG,CAAC,oBAAoB,GAAG,MAAM,KAAK,SAAS,CAAC,CAAC;gBAC3D,CAAC;YACH,CAAC;YAED,6EAA6E;YAC7E,MAAM,eAAe,GAAG,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;YACtD,KAAK,MAAM,IAAI,IAAI,eAAe,EAAE,CAAC;gBACnC,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;gBAClD,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC5C,IAAI,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC;oBAC3B,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;oBACnC,OAAO,CAAC,GAAG,CAAC,oBAAoB,IAAI,EAAE,CAAC,CAAC;oBACxC,UAAU,EAAE,CAAC;gBACf,CAAC;YACH,CAAC;YAED,OAAO,CAAC,GAAG,CAAC,eAAe,UAAU,eAAe,CAAC,CAAC;QACxD,CAAC;aAAM,CAAC;YACN,uCAAuC;YACvC,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;YAE3D,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;gBAC9B,EAAE,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;YAC/C,CAAC;YAED,MAAM,IAAI,GAAG,CAAC,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YACzD,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;gBACvB,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;gBAC1C,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC;oBAC5B,EAAE,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;oBAC3C,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,GAAG,CAAC,CAAC;gBAC3C,CAAC;YACH,CAAC;QACH,CAAC;QAED,wDAAwD;QACxD,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;YAClD,EAAE,CAAC,aAAa,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YAC3E,OAAO,CAAC,GAAG,CAAC,0EAA0E,CAAC,CAAC;QAC1F,CAAC;QAED,yDAAyD;QACzD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;gBAClD,EAAE,CAAC,aAAa,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;gBACnD,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YACrC,CAAC;iBAAM,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;YACxD,CAAC;QACH,CAAC;QAED,OAAO,CAAC,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2Bf,CAAC,CAAC;IAED,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;QACjD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;AACH,CAAC;AAED,SAAS,aAAa;IACpB,OAAO,CAAC,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;CA0Bb,CAAC,CAAC;AACH,CAAC;AAED,2BAA2B;AAC3B,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,SAAS,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;IACjF,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACnC,iBAAiB,CAAC,IAAI,CAAC,CAAC;AAC1B,CAAC","sourcesContent":["#!/usr/bin/env node\n/**\n * CLI Init Command\n * Creates .claude/ folder structure and configuration files for Claude Code integration\n * Copies all agents, commands, skills, and helpers from the package\n */\n\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst CLAUDE_MD_TEMPLATE = `# Claude Code Configuration - Agentic Flow\n\n## üö® CRITICAL: CONCURRENT EXECUTION & FILE MANAGEMENT\n\n**ABSOLUTE RULES**:\n1. ALL operations MUST be concurrent/parallel in a single message\n2. **NEVER save working files, text/mds and tests to the root folder**\n3. ALWAYS organize files in appropriate subdirectories\n4. **USE CLAUDE CODE'S TASK TOOL** for spawning agents concurrently, not just MCP\n\n### ‚ö° GOLDEN RULE: \"1 MESSAGE = ALL RELATED OPERATIONS\"\n\n**MANDATORY PATTERNS:**\n- **TodoWrite**: ALWAYS batch ALL todos in ONE call (5-10+ todos minimum)\n- **Task tool (Claude Code)**: ALWAYS spawn ALL agents in ONE message with full instructions\n- **File operations**: ALWAYS batch ALL reads/writes/edits in ONE message\n- **Bash commands**: ALWAYS batch ALL terminal operations in ONE message\n- **Memory operations**: ALWAYS batch ALL memory store/retrieve in ONE message\n\n### üéØ CRITICAL: Claude Code Task Tool for Agent Execution\n\n**Claude Code's Task tool is the PRIMARY way to spawn agents:**\n\\`\\`\\`javascript\n// ‚úÖ CORRECT: Use Claude Code's Task tool for parallel agent execution\n[Single Message]:\n  Task(\"Research agent\", \"Analyze requirements and patterns...\", \"researcher\")\n  Task(\"Coder agent\", \"Implement core features...\", \"coder\")\n  Task(\"Tester agent\", \"Create comprehensive tests...\", \"tester\")\n  Task(\"Reviewer agent\", \"Review code quality...\", \"reviewer\")\n  Task(\"Architect agent\", \"Design system architecture...\", \"system-architect\")\n\\`\\`\\`\n\n**MCP tools are ONLY for coordination setup:**\n- \\`mcp__claude-flow__swarm_init\\` - Initialize coordination topology\n- \\`mcp__claude-flow__agent_spawn\\` - Define agent types for coordination\n- \\`mcp__claude-flow__task_orchestrate\\` - Orchestrate high-level workflows\n\n### üìÅ File Organization Rules\n\n**NEVER save to root folder. Use these directories:**\n- \\`/src\\` - Source code files\n- \\`/tests\\` - Test files\n- \\`/docs\\` - Documentation and markdown files\n- \\`/config\\` - Configuration files\n- \\`/scripts\\` - Utility scripts\n- \\`/examples\\` - Example code\n\n## üöÄ Quick Start\n\n\\`\\`\\`bash\n# Start MCP server for Claude Code integration\nnpx agentic-flow@alpha mcp start\n\n# Run an agent directly\nnpx agentic-flow@alpha --agent coder --task \"Your task here\"\n\n# List available agents\nnpx agentic-flow@alpha --list\n\\`\\`\\`\n\n## üöÄ Available Agents (54 Total)\n\n### Core Development\n\\`coder\\`, \\`reviewer\\`, \\`tester\\`, \\`planner\\`, \\`researcher\\`\n\n### Swarm Coordination\n\\`hierarchical-coordinator\\`, \\`mesh-coordinator\\`, \\`adaptive-coordinator\\`, \\`collective-intelligence-coordinator\\`, \\`swarm-memory-manager\\`\n\n### Consensus & Distributed\n\\`byzantine-coordinator\\`, \\`raft-manager\\`, \\`gossip-coordinator\\`, \\`consensus-builder\\`, \\`crdt-synchronizer\\`, \\`quorum-manager\\`, \\`security-manager\\`\n\n### Performance & Optimization\n\\`perf-analyzer\\`, \\`performance-benchmarker\\`, \\`task-orchestrator\\`, \\`memory-coordinator\\`, \\`smart-agent\\`\n\n### GitHub & Repository\n\\`github-modes\\`, \\`pr-manager\\`, \\`code-review-swarm\\`, \\`issue-tracker\\`, \\`release-manager\\`, \\`workflow-automation\\`, \\`project-board-sync\\`, \\`repo-architect\\`, \\`multi-repo-swarm\\`\n\n### SPARC Methodology\n\\`sparc-coord\\`, \\`sparc-coder\\`, \\`specification\\`, \\`pseudocode\\`, \\`architecture\\`, \\`refinement\\`\n\n### Specialized Development\n\\`backend-dev\\`, \\`mobile-dev\\`, \\`ml-developer\\`, \\`cicd-engineer\\`, \\`api-docs\\`, \\`system-architect\\`, \\`code-analyzer\\`, \\`base-template-generator\\`\n\n## üéØ Claude Code vs MCP Tools\n\n### Claude Code Handles ALL EXECUTION:\n- **Task tool**: Spawn and run agents concurrently for actual work\n- File operations (Read, Write, Edit, MultiEdit, Glob, Grep)\n- Code generation and programming\n- Bash commands and system operations\n- Implementation work\n- Project navigation and analysis\n- TodoWrite and task management\n- Git operations\n- Package management\n- Testing and debugging\n\n### MCP Tools ONLY COORDINATE:\n- Swarm initialization (topology setup)\n- Agent type definitions (coordination patterns)\n- Task orchestration (high-level planning)\n- Memory management\n- Neural features\n- Performance tracking\n- GitHub integration\n\n**KEY**: MCP coordinates the strategy, Claude Code's Task tool executes with real agents.\n\n## MCP Tool Categories\n\n### Coordination\n\\`swarm_init\\`, \\`agent_spawn\\`, \\`task_orchestrate\\`\n\n### Monitoring\n\\`swarm_status\\`, \\`agent_list\\`, \\`agent_metrics\\`, \\`task_status\\`, \\`task_results\\`\n\n### Memory & Neural\n\\`memory_usage\\`, \\`neural_status\\`, \\`neural_train\\`, \\`neural_patterns\\`\n\n### GitHub Integration\n\\`github_swarm\\`, \\`repo_analyze\\`, \\`pr_enhance\\`, \\`issue_triage\\`, \\`code_review\\`\n\n## üß† Self-Learning Hooks System\n\n### Available Hooks Commands:\n\\`\\`\\`bash\n# Before editing - get context and agent suggestions\nnpx agentic-flow@alpha hooks pre-edit <filePath>\n\n# After editing - record outcome for learning\nnpx agentic-flow@alpha hooks post-edit <filePath> --success true\n\n# Before commands - assess risk\nnpx agentic-flow@alpha hooks pre-command \"<command>\"\n\n# After commands - record outcome\nnpx agentic-flow@alpha hooks post-command \"<command>\" --success true\n\n# Route task to optimal agent using learned patterns\nnpx agentic-flow@alpha hooks route \"<task description>\"\n\n# Explain routing decision with transparency\nnpx agentic-flow@alpha hooks explain \"<task description>\"\n\n# Bootstrap intelligence from repository\nnpx agentic-flow@alpha hooks pretrain\n\n# Generate optimized agent configs from pretrain data\nnpx agentic-flow@alpha hooks build-agents\n\n# View learning metrics dashboard\nnpx agentic-flow@alpha hooks metrics\n\n# Transfer patterns from another project\nnpx agentic-flow@alpha hooks transfer <sourceProject>\n\n# RuVector intelligence (SONA, MoE, HNSW 150x faster)\nnpx agentic-flow@alpha hooks intelligence\n\\`\\`\\`\n\n### Pretraining System (4-Step Pipeline):\n1. **RETRIEVE** - Top-k memory injection with MMR diversity\n2. **JUDGE** - LLM-as-judge trajectory evaluation\n3. **DISTILL** - Extract strategy memories from trajectories\n4. **CONSOLIDATE** - Dedup, detect contradictions, prune old patterns\n\n## Performance Benefits\n\n- **84.8% SWE-Bench solve rate**\n- **32.3% token reduction**\n- **2.8-4.4x speed improvement**\n- **27+ neural models**\n\n## Advanced Features (v2.0.0)\n\n- üöÄ Automatic Topology Selection\n- ‚ö° Parallel Execution (2.8-4.4x speed)\n- üß† Neural Training\n- üìä Bottleneck Analysis\n- ü§ñ Smart Auto-Spawning\n- üõ°Ô∏è Self-Healing Workflows\n- üíæ Cross-Session Memory\n- üîó GitHub Integration\n\n## Code Style & Best Practices\n\n- **Modular Design**: Files under 500 lines\n- **Environment Safety**: Never hardcode secrets\n- **Test-First**: Write tests before implementation\n- **Clean Architecture**: Separate concerns\n- **Documentation**: Keep updated\n\n## Support\n\n- Documentation: https://github.com/ruvnet/agentic-flow\n- Issues: https://github.com/ruvnet/agentic-flow/issues\n\n---\n\nRemember: **Agentic Flow coordinates, Claude Code creates!**\n\n# important-instruction-reminders\nDo what has been asked; nothing more, nothing less.\nNEVER create files unless they're absolutely necessary for achieving your goal.\nALWAYS prefer editing an existing file to creating a new one.\nNEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.\nNever save working files, text/mds and tests to the root folder.\n`;\n\nconst SETTINGS_TEMPLATE = {\n  model: \"claude-sonnet-4-20250514\",\n  customInstructions: \"Follow the project's CLAUDE.md guidelines. Use concurrent execution for all operations.\",\n  env: {\n    AGENTIC_FLOW_INTELLIGENCE: \"true\",\n    AGENTIC_FLOW_LEARNING_RATE: \"0.1\",\n    AGENTIC_FLOW_EPSILON: \"0.1\",\n    AGENTIC_FLOW_MEMORY_BACKEND: \"agentdb\"\n  },\n  permissions: {\n    allowedTools: [\"Read\", \"Write\", \"Edit\", \"Bash\", \"Glob\", \"Grep\", \"Task\", \"WebFetch\", \"WebSearch\", \"TodoWrite\", \"LSP\", \"NotebookEdit\"],\n    deniedTools: [],\n    allow: [\n      \"Bash(npx:*)\",\n      \"Bash(agentic-flow:*)\",\n      \"Bash(npm run:*)\",\n      \"mcp__agentic-flow\",\n      \"mcp__claude-flow\",\n      \"mcp__ruv-swarm\"\n    ]\n  },\n  hooks: {\n    PreToolUse: [\n      {\n        matcher: \"Edit|Write|MultiEdit\",\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks pre-edit \\\"$TOOL_INPUT_file_path\\\"\" }]\n      },\n      {\n        matcher: \"Bash\",\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks pre-command \\\"$TOOL_INPUT_command\\\"\" }]\n      }\n    ],\n    PostToolUse: [\n      {\n        matcher: \"Edit|Write|MultiEdit\",\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks post-edit \\\"$TOOL_INPUT_file_path\\\" --success\" }]\n      },\n      {\n        matcher: \"Bash\",\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks post-command \\\"$TOOL_INPUT_command\\\"\" }]\n      }\n    ],\n    PostToolUseFailure: [\n      {\n        matcher: \"Edit|Write|MultiEdit\",\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks post-edit \\\"$TOOL_INPUT_file_path\\\" --fail --error \\\"$ERROR_MESSAGE\\\"\" }]\n      }\n    ],\n    SessionStart: [\n      {\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks intelligence stats --json 2>/dev/null || true\" }]\n      }\n    ],\n    SessionEnd: [\n      {\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks metrics --session --json 2>/dev/null || true\" }]\n      }\n    ],\n    UserPromptSubmit: [\n      {\n        hooks: [\n          { type: \"command\", timeout: 3000, command: \"npx agentic-flow@alpha hooks route \\\"$USER_PROMPT\\\" --json 2>/dev/null || true\" }\n        ]\n      }\n    ],\n    Stop: [\n      {\n        matcher: \".*\",\n        hooks: [{ type: \"command\", command: \"npx agentic-flow@alpha hooks metrics --session 2>/dev/null || true\" }]\n      }\n    ]\n  },\n  agents: {\n    source: \".claude/agents\",\n    customAgents: []\n  },\n  skills: {\n    source: \".claude/commands\",\n    enabled: true\n  },\n  statusLine: {\n    type: \"command\",\n    command: \".claude/statusline.sh\"\n  },\n  mcpServers: {\n    \"claude-flow\": {\n      command: \"npx\",\n      args: [\"agentic-flow@alpha\", \"mcp\", \"start\"]\n    }\n  }\n};\n\ninterface InitOptions {\n  force?: boolean;\n  minimal?: boolean;\n  verbose?: boolean;\n}\n\n/**\n * Recursively copy a directory\n */\nfunction copyDirRecursive(src: string, dest: string, verbose: boolean = false): number {\n  let fileCount = 0;\n\n  if (!fs.existsSync(src)) {\n    return fileCount;\n  }\n\n  if (!fs.existsSync(dest)) {\n    fs.mkdirSync(dest, { recursive: true });\n  }\n\n  const entries = fs.readdirSync(src, { withFileTypes: true });\n\n  for (const entry of entries) {\n    const srcPath = path.join(src, entry.name);\n    const destPath = path.join(dest, entry.name);\n\n    if (entry.isDirectory()) {\n      fileCount += copyDirRecursive(srcPath, destPath, verbose);\n    } else {\n      fs.copyFileSync(srcPath, destPath);\n      fileCount++;\n      if (verbose) {\n        console.log(`   üìÑ ${path.relative(dest, destPath)}`);\n      }\n    }\n  }\n\n  return fileCount;\n}\n\n/**\n * Find the package's .claude directory\n */\nfunction findPackageClaudeDir(): string | null {\n  // Try multiple potential locations\n  const potentialPaths = [\n    // When running from dist/\n    path.resolve(__dirname, '..', '..', '..', '.claude'),\n    // When running from src/\n    path.resolve(__dirname, '..', '..', '.claude'),\n    // When installed as package\n    path.resolve(__dirname, '..', '.claude'),\n    // Fallback to package root\n    path.resolve(process.cwd(), 'node_modules', 'agentic-flow', '.claude'),\n  ];\n\n  for (const p of potentialPaths) {\n    if (fs.existsSync(p) && fs.statSync(p).isDirectory()) {\n      return p;\n    }\n  }\n\n  return null;\n}\n\nexport async function handleInitCommand(args: string[]): Promise<void> {\n  const options: InitOptions = {\n    force: args.includes('--force') || args.includes('-f'),\n    minimal: args.includes('--minimal') || args.includes('-m'),\n    verbose: args.includes('--verbose') || args.includes('-v')\n  };\n\n  if (args.includes('--help') || args.includes('-h')) {\n    printInitHelp();\n    return;\n  }\n\n  const cwd = process.cwd();\n  const claudeDir = path.join(cwd, '.claude');\n  const claudeMdFile = path.join(cwd, 'CLAUDE.md');\n\n  console.log(`\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n‚ïë       Agentic Flow - Project Initialization           ‚ïë\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n`);\n\n  // Check if already initialized\n  if (fs.existsSync(claudeDir) && !options.force) {\n    console.log('‚ö†Ô∏è  .claude/ directory already exists.');\n    console.log('   Use --force to overwrite existing configuration.\\n');\n    return;\n  }\n\n  try {\n    // Find the package's .claude directory\n    const packageClaudeDir = findPackageClaudeDir();\n\n    if (packageClaudeDir && !options.minimal) {\n      console.log('üì¶ Copying full .claude/ structure from agentic-flow package...\\n');\n\n      // Copy entire .claude directory structure\n      const directories = ['agents', 'commands', 'skills', 'helpers'];\n      let totalFiles = 0;\n\n      for (const dir of directories) {\n        const srcDir = path.join(packageClaudeDir, dir);\n        const destDir = path.join(claudeDir, dir);\n\n        if (fs.existsSync(srcDir)) {\n          const count = copyDirRecursive(srcDir, destDir, options.verbose);\n          totalFiles += count;\n          console.log(`‚úÖ Copied .claude/${dir}/ (${count} files)`);\n        }\n      }\n\n      // Copy individual files (settings.json is generated fresh with our template)\n      const individualFiles = ['mcp.json', 'statusline.sh'];\n      for (const file of individualFiles) {\n        const srcFile = path.join(packageClaudeDir, file);\n        const destFile = path.join(claudeDir, file);\n        if (fs.existsSync(srcFile)) {\n          fs.copyFileSync(srcFile, destFile);\n          console.log(`‚úÖ Copied .claude/${file}`);\n          totalFiles++;\n        }\n      }\n\n      console.log(`\\nüìä Total: ${totalFiles} files copied`);\n    } else {\n      // Minimal mode: create basic structure\n      console.log('üì¶ Creating minimal .claude/ structure...\\n');\n\n      if (!fs.existsSync(claudeDir)) {\n        fs.mkdirSync(claudeDir, { recursive: true });\n      }\n\n      const dirs = ['agents', 'commands', 'skills', 'helpers'];\n      for (const dir of dirs) {\n        const dirPath = path.join(claudeDir, dir);\n        if (!fs.existsSync(dirPath)) {\n          fs.mkdirSync(dirPath, { recursive: true });\n          console.log(`‚úÖ Created .claude/${dir}/`);\n        }\n      }\n    }\n\n    // Always generate fresh settings.json with our template\n    const settingsFile = path.join(claudeDir, 'settings.json');\n    if (!fs.existsSync(settingsFile) || options.force) {\n      fs.writeFileSync(settingsFile, JSON.stringify(SETTINGS_TEMPLATE, null, 2));\n      console.log('‚úÖ Created .claude/settings.json (with hooks, agents, skills, statusline)');\n    }\n\n    // Create CLAUDE.md in project root (unless minimal mode)\n    if (!options.minimal) {\n      if (!fs.existsSync(claudeMdFile) || options.force) {\n        fs.writeFileSync(claudeMdFile, CLAUDE_MD_TEMPLATE);\n        console.log('‚úÖ Created CLAUDE.md');\n      } else {\n        console.log('‚ÑπÔ∏è  CLAUDE.md already exists (skipped)');\n      }\n    }\n\n    console.log(`\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n‚ïë                 Initialization Complete!               ‚ïë\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n\nüìÅ Created structure:\n   .claude/\n   ‚îú‚îÄ‚îÄ settings.json      # Claude Code settings (hooks, agents, skills, statusline)\n   ‚îú‚îÄ‚îÄ statusline.sh      # Custom statusline (model, tokens, cost, swarm status)\n   ‚îú‚îÄ‚îÄ agents/            # 80+ agent definitions (coder, tester, reviewer, etc.)\n   ‚îú‚îÄ‚îÄ commands/          # 100+ slash commands (swarm, github, sparc, etc.)\n   ‚îú‚îÄ‚îÄ skills/            # Custom skills and workflows\n   ‚îî‚îÄ‚îÄ helpers/           # Helper utilities\n   CLAUDE.md              # Project instructions\n\nüöÄ Next steps:\n   1. Start the MCP server:\n      npx agentic-flow@alpha mcp start\n\n   2. Run Claude Code:\n      claude\n\n   3. Or run agents directly:\n      npx agentic-flow@alpha --agent coder --task \"Your task\"\n\nüìñ Documentation:\n   https://github.com/ruvnet/agentic-flow\n`);\n\n  } catch (error) {\n    console.error('‚ùå Initialization failed:', error);\n    process.exit(1);\n  }\n}\n\nfunction printInitHelp(): void {\n  console.log(`\nAgentic Flow - Project Initialization\n\nUSAGE:\n  npx agentic-flow@alpha init [OPTIONS]\n\nOPTIONS:\n  --force, -f     Overwrite existing configuration\n  --minimal, -m   Create minimal setup (empty directories only)\n  --verbose, -v   Show detailed file copy output\n  --help, -h      Show this help\n\nEXAMPLES:\n  npx agentic-flow@alpha init               # Initialize with full agent/command library\n  npx agentic-flow@alpha init --force       # Reinitialize (overwrite existing)\n  npx agentic-flow@alpha init --minimal     # Minimal setup (empty directories)\n  npx agentic-flow@alpha init --verbose     # Show all files being copied\n\nCREATED FILES:\n  .claude/                  Claude Code configuration directory\n  .claude/settings.json     Settings with hooks, agents, skills, statusline, MCP servers\n  .claude/agents/           80+ agent definitions (coder, tester, reviewer, sparc, etc.)\n  .claude/commands/         100+ slash commands (swarm, github, sparc, etc.)\n  .claude/skills/           Custom skills and workflows\n  .claude/helpers/          Helper utilities\n  CLAUDE.md                 Project instructions for Claude\n`);\n}\n\n// Run if executed directly\nif (process.argv[1]?.endsWith('init.js') || process.argv[1]?.endsWith('init.ts')) {\n  const args = process.argv.slice(2);\n  handleInitCommand(args);\n}\n"]}