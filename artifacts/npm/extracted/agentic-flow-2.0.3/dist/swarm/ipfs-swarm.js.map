{"version":3,"file":"ipfs-swarm.js","sourceRoot":"","sources":["../../src/swarm/ipfs-swarm.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * IPFS-based Encrypted Swarm Coordination\n *\n * Uses free IPFS services for decentralized swarm coordination:\n * - web3.storage (free tier)\n * - Pinata (1GB free)\n * - Public IPFS gateways\n * - nft.storage (unlimited for NFT data)\n *\n * Features:\n * - Encrypted swarm state synchronization\n * - Content-addressed learning patterns\n * - P2P agent coordination via IPNS\n * - Distributed memory persistence\n */\n\nimport crypto from 'crypto';\nimport { logger } from '../utils/logger.js';\n\n/**\n * Free IPFS Gateway URLs\n */\nconst FREE_IPFS_GATEWAYS = [\n  'https://ipfs.io/ipfs/',\n  'https://dweb.link/ipfs/',\n  'https://cloudflare-ipfs.com/ipfs/',\n  'https://gateway.pinata.cloud/ipfs/',\n  'https://w3s.link/ipfs/',\n  'https://4everland.io/ipfs/',\n];\n\n/**\n * IPFS Provider configuration\n */\nexport interface IPFSProviderConfig {\n  provider: 'web3storage' | 'pinata' | 'infura' | 'filebase' | 'local';\n  apiKey?: string;\n  apiSecret?: string;\n  gateway?: string;\n}\n\n/**\n * Encrypted swarm message\n */\nexport interface EncryptedSwarmMessage {\n  cid: string;\n  encryptedPayload: string;\n  iv: string;\n  authTag: string;\n  timestamp: number;\n  sender: string;\n  messageType: SwarmMessageType;\n}\n\n/**\n * Swarm message types\n */\nexport enum SwarmMessageType {\n  JOIN = 'join',\n  LEAVE = 'leave',\n  SYNC_MEMORY = 'sync_memory',\n  SYNC_LEARNING = 'sync_learning',\n  CONSENSUS_VOTE = 'consensus_vote',\n  TASK_DISPATCH = 'task_dispatch',\n  HEARTBEAT = 'heartbeat',\n  GOSSIP = 'gossip',\n}\n\n/**\n * Learning pattern stored on IPFS\n */\nexport interface IPFSLearningPattern {\n  cid: string;\n  patternType: string;\n  embedding: number[];\n  metadata: Record<string, any>;\n  timestamp: number;\n  agentId: string;\n}\n\n/**\n * Swarm state stored on IPFS\n */\nexport interface IPFSSwarmState {\n  swarmId: string;\n  agents: Map<string, IPFSAgentInfo>;\n  learningPatterns: string[]; // CIDs\n  consensusState: ConsensusState;\n  lastUpdated: number;\n}\n\n/**\n * Agent info for IPFS swarm\n */\nexport interface IPFSAgentInfo {\n  id: string;\n  publicKey: string;\n  capabilities: string[];\n  ipnsKey?: string;\n  lastSeen: number;\n  status: 'active' | 'idle' | 'disconnected';\n}\n\n/**\n * Consensus state\n */\nexport interface ConsensusState {\n  proposalId: string;\n  votes: Map<string, boolean>;\n  threshold: number;\n  deadline: number;\n}\n\n/**\n * Encryption utilities for swarm communication\n */\nclass SwarmEncryption {\n  private algorithm = 'aes-256-gcm';\n\n  /**\n   * Generate a new encryption key\n   */\n  generateKey(): Buffer {\n    return crypto.randomBytes(32);\n  }\n\n  /**\n   * Derive shared key from agent keys (simplified ECDH)\n   */\n  deriveSharedKey(privateKey: Buffer, publicKey: Buffer): Buffer {\n    // In production, use proper ECDH\n    const combined = Buffer.concat([privateKey, publicKey]);\n    return crypto.createHash('sha256').update(combined).digest();\n  }\n\n  /**\n   * Encrypt data with AES-256-GCM\n   */\n  encrypt(data: string, key: Buffer): { encrypted: string; iv: string; authTag: string } {\n    const iv = crypto.randomBytes(16);\n    const cipher = crypto.createCipheriv(this.algorithm, key, iv);\n\n    let encrypted = cipher.update(data, 'utf8', 'base64');\n    encrypted += cipher.final('base64');\n\n    return {\n      encrypted,\n      iv: iv.toString('base64'),\n      authTag: cipher.getAuthTag().toString('base64'),\n    };\n  }\n\n  /**\n   * Decrypt data with AES-256-GCM\n   */\n  decrypt(encrypted: string, key: Buffer, iv: string, authTag: string): string {\n    const decipher = crypto.createDecipheriv(\n      this.algorithm,\n      key,\n      Buffer.from(iv, 'base64')\n    );\n    decipher.setAuthTag(Buffer.from(authTag, 'base64'));\n\n    let decrypted = decipher.update(encrypted, 'base64', 'utf8');\n    decrypted += decipher.final('utf8');\n\n    return decrypted;\n  }\n\n  /**\n   * Generate key pair for agent\n   */\n  generateKeyPair(): { publicKey: string; privateKey: string } {\n    const { publicKey, privateKey } = crypto.generateKeyPairSync('ed25519', {\n      publicKeyEncoding: { type: 'spki', format: 'pem' },\n      privateKeyEncoding: { type: 'pkcs8', format: 'pem' },\n    });\n    return { publicKey, privateKey };\n  }\n\n  /**\n   * Sign data\n   */\n  sign(data: string, privateKey: string): string {\n    const sign = crypto.createSign('SHA256');\n    sign.update(data);\n    return sign.sign(privateKey, 'base64');\n  }\n\n  /**\n   * Verify signature\n   */\n  verify(data: string, signature: string, publicKey: string): boolean {\n    const verify = crypto.createVerify('SHA256');\n    verify.update(data);\n    return verify.verify(publicKey, signature, 'base64');\n  }\n}\n\n/**\n * IPFS Client for free providers\n */\nclass IPFSClient {\n  private gateway: string;\n  private apiEndpoint?: string;\n  private apiKey?: string;\n  private apiSecret?: string;\n\n  constructor(config: IPFSProviderConfig) {\n    this.gateway = config.gateway || FREE_IPFS_GATEWAYS[0];\n    this.apiKey = config.apiKey;\n    this.apiSecret = config.apiSecret;\n\n    // Set API endpoint based on provider\n    switch (config.provider) {\n      case 'pinata':\n        this.apiEndpoint = 'https://api.pinata.cloud';\n        break;\n      case 'web3storage':\n        this.apiEndpoint = 'https://api.web3.storage';\n        break;\n      case 'infura':\n        this.apiEndpoint = 'https://ipfs.infura.io:5001/api/v0';\n        break;\n      case 'filebase':\n        this.apiEndpoint = 'https://api.filebase.io/v1/ipfs';\n        break;\n      default:\n        this.apiEndpoint = undefined;\n    }\n  }\n\n  /**\n   * Add data to IPFS (simulated for demo, real impl would use actual API)\n   */\n  async add(data: string | Buffer): Promise<string> {\n    // Generate CID (content-addressed hash)\n    const hash = crypto.createHash('sha256')\n      .update(typeof data === 'string' ? data : data.toString())\n      .digest('hex');\n\n    // Simulated CID (real impl would pin to IPFS)\n    const cid = `Qm${hash.slice(0, 44)}`;\n\n    logger.debug('IPFS add', { cid, size: data.length });\n    return cid;\n  }\n\n  /**\n   * Get data from IPFS via gateway\n   */\n  async get(cid: string): Promise<string> {\n    const url = `${this.gateway}${cid}`;\n\n    try {\n      const response = await fetch(url, {\n        headers: this.apiKey ? { 'Authorization': `Bearer ${this.apiKey}` } : {},\n      });\n\n      if (!response.ok) {\n        throw new Error(`IPFS fetch failed: ${response.status}`);\n      }\n\n      return await response.text();\n    } catch (error) {\n      // Try alternate gateways\n      for (const gateway of FREE_IPFS_GATEWAYS) {\n        if (gateway === this.gateway) continue;\n\n        try {\n          const resp = await fetch(`${gateway}${cid}`);\n          if (resp.ok) return await resp.text();\n        } catch {\n          continue;\n        }\n      }\n\n      throw error;\n    }\n  }\n\n  /**\n   * Pin data to IPFS (persistent storage)\n   */\n  async pin(cid: string): Promise<boolean> {\n    if (!this.apiEndpoint || !this.apiKey) {\n      logger.warn('IPFS pin requires API key');\n      return false;\n    }\n\n    // Pinata pinning\n    if (this.apiEndpoint.includes('pinata')) {\n      try {\n        const response = await fetch(`${this.apiEndpoint}/pinning/pinByHash`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'pinata_api_key': this.apiKey,\n            'pinata_secret_api_key': this.apiSecret || '',\n          },\n          body: JSON.stringify({ hashToPin: cid }),\n        });\n\n        return response.ok;\n      } catch {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Get gateway URL\n   */\n  getGatewayUrl(cid: string): string {\n    return `${this.gateway}${cid}`;\n  }\n}\n\n/**\n * IPFS-based Encrypted Swarm Coordinator\n */\nexport class IPFSSwarmCoordinator {\n  private ipfs: IPFSClient;\n  private encryption: SwarmEncryption;\n  private swarmKey: Buffer;\n  private agents: Map<string, IPFSAgentInfo>;\n  private learningPatterns: Map<string, IPFSLearningPattern>;\n  private messageLog: EncryptedSwarmMessage[];\n  private swarmId: string;\n\n  constructor(config: IPFSProviderConfig, swarmKey?: Buffer) {\n    this.ipfs = new IPFSClient(config);\n    this.encryption = new SwarmEncryption();\n    this.swarmKey = swarmKey || this.encryption.generateKey();\n    this.agents = new Map();\n    this.learningPatterns = new Map();\n    this.messageLog = [];\n    this.swarmId = crypto.randomUUID();\n  }\n\n  /**\n   * Initialize swarm and publish initial state to IPFS\n   */\n  async initialize(): Promise<string> {\n    const initialState = {\n      swarmId: this.swarmId,\n      created: Date.now(),\n      version: '1.0.0',\n    };\n\n    const cid = await this.ipfs.add(JSON.stringify(initialState));\n    logger.info('IPFS Swarm initialized', { swarmId: this.swarmId, cid });\n\n    return cid;\n  }\n\n  /**\n   * Register agent with encrypted credentials\n   */\n  async registerAgent(\n    agentId: string,\n    capabilities: string[]\n  ): Promise<{ publicKey: string; privateKey: string }> {\n    const keyPair = this.encryption.generateKeyPair();\n\n    const agentInfo: IPFSAgentInfo = {\n      id: agentId,\n      publicKey: keyPair.publicKey,\n      capabilities,\n      lastSeen: Date.now(),\n      status: 'active',\n    };\n\n    this.agents.set(agentId, agentInfo);\n\n    // Publish join message to IPFS\n    await this.publishMessage({\n      type: SwarmMessageType.JOIN,\n      agentId,\n      capabilities,\n    });\n\n    logger.info('Agent registered', { agentId, capabilities });\n\n    return keyPair;\n  }\n\n  /**\n   * Publish encrypted message to IPFS\n   */\n  async publishMessage(\n    payload: Record<string, any>,\n    messageType: SwarmMessageType = SwarmMessageType.GOSSIP\n  ): Promise<EncryptedSwarmMessage> {\n    const data = JSON.stringify(payload);\n    const { encrypted, iv, authTag } = this.encryption.encrypt(data, this.swarmKey);\n\n    // Store encrypted message on IPFS\n    const cid = await this.ipfs.add(encrypted);\n\n    const message: EncryptedSwarmMessage = {\n      cid,\n      encryptedPayload: encrypted,\n      iv,\n      authTag,\n      timestamp: Date.now(),\n      sender: payload.agentId || 'coordinator',\n      messageType,\n    };\n\n    this.messageLog.push(message);\n\n    return message;\n  }\n\n  /**\n   * Retrieve and decrypt message from IPFS\n   */\n  async retrieveMessage(message: EncryptedSwarmMessage): Promise<Record<string, any>> {\n    try {\n      const decrypted = this.encryption.decrypt(\n        message.encryptedPayload,\n        this.swarmKey,\n        message.iv,\n        message.authTag\n      );\n\n      return JSON.parse(decrypted);\n    } catch (error) {\n      logger.error('Failed to decrypt message', { cid: message.cid, error });\n      throw error;\n    }\n  }\n\n  /**\n   * Store learning pattern on IPFS\n   */\n  async storeLearningPattern(\n    agentId: string,\n    patternType: string,\n    embedding: number[],\n    metadata: Record<string, any> = {}\n  ): Promise<IPFSLearningPattern> {\n    const pattern = {\n      patternType,\n      embedding,\n      metadata,\n      timestamp: Date.now(),\n      agentId,\n    };\n\n    // Encrypt before storing\n    const encrypted = this.encryption.encrypt(\n      JSON.stringify(pattern),\n      this.swarmKey\n    );\n\n    const cid = await this.ipfs.add(JSON.stringify(encrypted));\n\n    const storedPattern: IPFSLearningPattern = {\n      cid,\n      ...pattern,\n    };\n\n    this.learningPatterns.set(cid, storedPattern);\n\n    logger.debug('Learning pattern stored', { cid, patternType, agentId });\n\n    return storedPattern;\n  }\n\n  /**\n   * Retrieve learning pattern from IPFS\n   */\n  async retrieveLearningPattern(cid: string): Promise<IPFSLearningPattern | null> {\n    // Check local cache first\n    if (this.learningPatterns.has(cid)) {\n      return this.learningPatterns.get(cid)!;\n    }\n\n    try {\n      const data = await this.ipfs.get(cid);\n      const encrypted = JSON.parse(data);\n\n      const decrypted = this.encryption.decrypt(\n        encrypted.encrypted,\n        this.swarmKey,\n        encrypted.iv,\n        encrypted.authTag\n      );\n\n      const pattern = JSON.parse(decrypted);\n      return { cid, ...pattern };\n    } catch (error) {\n      logger.error('Failed to retrieve pattern', { cid, error });\n      return null;\n    }\n  }\n\n  /**\n   * Sync memory vectors across swarm via IPFS\n   */\n  async syncMemory(\n    agentId: string,\n    vectors: number[][],\n    namespace: string\n  ): Promise<string> {\n    const memoryData = {\n      agentId,\n      vectors,\n      namespace,\n      timestamp: Date.now(),\n      vectorCount: vectors.length,\n      dimensions: vectors[0]?.length || 0,\n    };\n\n    const message = await this.publishMessage(memoryData, SwarmMessageType.SYNC_MEMORY);\n\n    // Pin for persistence\n    await this.ipfs.pin(message.cid);\n\n    return message.cid;\n  }\n\n  /**\n   * Sync learning state across swarm\n   */\n  async syncLearning(\n    agentId: string,\n    qTable: number[][],\n    policyWeights: number[]\n  ): Promise<string> {\n    const learningData = {\n      agentId,\n      qTable,\n      policyWeights,\n      timestamp: Date.now(),\n    };\n\n    const message = await this.publishMessage(learningData, SwarmMessageType.SYNC_LEARNING);\n\n    return message.cid;\n  }\n\n  /**\n   * Run consensus vote via IPFS\n   */\n  async submitConsensusVote(\n    agentId: string,\n    proposalId: string,\n    vote: boolean,\n    privateKey: string\n  ): Promise<string> {\n    const voteData = { proposalId, vote, timestamp: Date.now() };\n    const signature = this.encryption.sign(JSON.stringify(voteData), privateKey);\n\n    const message = await this.publishMessage(\n      { agentId, ...voteData, signature },\n      SwarmMessageType.CONSENSUS_VOTE\n    );\n\n    return message.cid;\n  }\n\n  /**\n   * Gossip propagation via IPFS\n   */\n  async gossip(\n    origin: string,\n    payload: Record<string, any>,\n    ttl: number = 5\n  ): Promise<string[]> {\n    const cids: string[] = [];\n\n    const gossipData = {\n      origin,\n      payload,\n      ttl,\n      hop: 0,\n      timestamp: Date.now(),\n    };\n\n    const message = await this.publishMessage(gossipData, SwarmMessageType.GOSSIP);\n    cids.push(message.cid);\n\n    // Simulate gossip propagation to connected agents\n    for (const [agentId, agent] of this.agents) {\n      if (agentId !== origin && agent.status === 'active') {\n        const hopMessage = await this.publishMessage(\n          { ...gossipData, hop: 1, receiver: agentId },\n          SwarmMessageType.GOSSIP\n        );\n        cids.push(hopMessage.cid);\n      }\n    }\n\n    return cids;\n  }\n\n  /**\n   * Get swarm statistics\n   */\n  getStats(): {\n    swarmId: string;\n    activeAgents: number;\n    totalAgents: number;\n    learningPatterns: number;\n    messageCount: number;\n    lastActivity: number;\n  } {\n    const activeAgents = Array.from(this.agents.values())\n      .filter(a => a.status === 'active').length;\n\n    return {\n      swarmId: this.swarmId,\n      activeAgents,\n      totalAgents: this.agents.size,\n      learningPatterns: this.learningPatterns.size,\n      messageCount: this.messageLog.length,\n      lastActivity: this.messageLog.length > 0\n        ? this.messageLog[this.messageLog.length - 1].timestamp\n        : Date.now(),\n    };\n  }\n\n  /**\n   * Export swarm state to IPFS (for backup/recovery)\n   */\n  async exportState(): Promise<string> {\n    const state = {\n      swarmId: this.swarmId,\n      agents: Array.from(this.agents.entries()),\n      learningPatternCids: Array.from(this.learningPatterns.keys()),\n      messageCount: this.messageLog.length,\n      exportedAt: Date.now(),\n    };\n\n    const encrypted = this.encryption.encrypt(\n      JSON.stringify(state),\n      this.swarmKey\n    );\n\n    const cid = await this.ipfs.add(JSON.stringify(encrypted));\n    await this.ipfs.pin(cid);\n\n    logger.info('Swarm state exported', { cid });\n\n    return cid;\n  }\n\n  /**\n   * Get swarm key (for sharing with authorized agents)\n   */\n  getSwarmKey(): string {\n    return this.swarmKey.toString('base64');\n  }\n\n  /**\n   * Get all message CIDs (for IPFS-based message history)\n   */\n  getMessageHistory(): EncryptedSwarmMessage[] {\n    return [...this.messageLog];\n  }\n}\n\n/**\n * Free IPFS provider presets\n */\nexport const FREE_IPFS_PROVIDERS = {\n  /**\n   * web3.storage - 5GB free\n   * Sign up: https://web3.storage\n   */\n  web3storage: (apiKey: string): IPFSProviderConfig => ({\n    provider: 'web3storage',\n    apiKey,\n    gateway: 'https://w3s.link/ipfs/',\n  }),\n\n  /**\n   * Pinata - 1GB free\n   * Sign up: https://pinata.cloud\n   */\n  pinata: (apiKey: string, apiSecret: string): IPFSProviderConfig => ({\n    provider: 'pinata',\n    apiKey,\n    apiSecret,\n    gateway: 'https://gateway.pinata.cloud/ipfs/',\n  }),\n\n  /**\n   * Public gateway (no API key needed, read-only)\n   */\n  public: (): IPFSProviderConfig => ({\n    provider: 'local',\n    gateway: 'https://ipfs.io/ipfs/',\n  }),\n\n  /**\n   * Cloudflare IPFS (free, fast)\n   */\n  cloudflare: (): IPFSProviderConfig => ({\n    provider: 'local',\n    gateway: 'https://cloudflare-ipfs.com/ipfs/',\n  }),\n\n  /**\n   * 4everland (free tier)\n   */\n  foureverland: (apiKey?: string): IPFSProviderConfig => ({\n    provider: 'local',\n    apiKey,\n    gateway: 'https://4everland.io/ipfs/',\n  }),\n};\n\nexport { SwarmEncryption, IPFSClient };\n"]}