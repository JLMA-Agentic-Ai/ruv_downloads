{"version":3,"file":"worker-benchmarks.js","sourceRoot":"","sources":["../../src/workers/worker-benchmarks.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Worker Benchmark System\n *\n * Comprehensive performance benchmarking for the worker system including:\n * - Dispatch latency measurement\n * - Phase execution timing\n * - Memory tracking\n * - Throughput analysis\n * - Integration with agents\n */\n\nimport { WorkerTrigger, WorkerInfo } from './types.js';\nimport { getWorkerRegistry } from './worker-registry.js';\nimport { workerAgentIntegration } from './worker-agent-integration.js';\nimport { modelCache } from '../utils/model-cache.js';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface BenchmarkResult {\n  name: string;\n  operation: string;\n  count: number;\n  totalTimeMs: number;\n  avgTimeMs: number;\n  minMs: number;\n  maxMs: number;\n  p50Ms: number;\n  p95Ms: number;\n  p99Ms: number;\n  throughput: number;\n  memoryDeltaMB: number;\n  passed: boolean;\n  target?: number;\n  details?: Record<string, unknown>;\n}\n\nexport interface BenchmarkSuite {\n  name: string;\n  description: string;\n  timestamp: number;\n  results: BenchmarkResult[];\n  summary: {\n    totalTests: number;\n    passed: number;\n    failed: number;\n    avgLatencyMs: number;\n    totalDurationMs: number;\n    peakMemoryMB: number;\n  };\n}\n\nexport interface LatencyBucket {\n  range: string;\n  count: number;\n  percentage: number;\n}\n\n// ============================================================================\n// Benchmark Utilities\n// ============================================================================\n\nfunction calculatePercentile(sorted: number[], percentile: number): number {\n  const index = Math.ceil((percentile / 100) * sorted.length) - 1;\n  return sorted[Math.max(0, index)] || 0;\n}\n\nfunction getMemoryUsageMB(): number {\n  const mem = process.memoryUsage();\n  return mem.heapUsed / 1024 / 1024;\n}\n\nfunction createLatencyHistogram(latencies: number[]): LatencyBucket[] {\n  const buckets = [\n    { max: 1, label: '<1ms' },\n    { max: 5, label: '1-5ms' },\n    { max: 10, label: '5-10ms' },\n    { max: 50, label: '10-50ms' },\n    { max: 100, label: '50-100ms' },\n    { max: 500, label: '100-500ms' },\n    { max: 1000, label: '500ms-1s' },\n    { max: Infinity, label: '>1s' }\n  ];\n\n  const counts = new Array(buckets.length).fill(0);\n\n  for (const latency of latencies) {\n    for (let i = 0; i < buckets.length; i++) {\n      if (latency <= buckets[i].max) {\n        counts[i]++;\n        break;\n      }\n    }\n  }\n\n  return buckets.map((bucket, i) => ({\n    range: bucket.label,\n    count: counts[i],\n    percentage: (counts[i] / latencies.length) * 100\n  }));\n}\n\n// ============================================================================\n// Worker Benchmarks\n// ============================================================================\n\nexport class WorkerBenchmarks {\n  private results: BenchmarkResult[] = [];\n\n  /**\n   * Benchmark trigger detection speed\n   */\n  async benchmarkTriggerDetection(iterations: number = 1000): Promise<BenchmarkResult> {\n    const prompts = [\n      'ultralearn the authentication system architecture',\n      'optimize the database query performance',\n      'audit security vulnerabilities in the payment module',\n      'benchmark the API response times',\n      'testgaps in the user module tests',\n      'document the REST API endpoints',\n      'deepdive into the message queue implementation',\n      'refactor the UserService class for better maintainability',\n      'Please help me write some code',  // No trigger\n      'How does this function work?'       // No trigger\n    ];\n\n    const latencies: number[] = [];\n    const memStart = getMemoryUsageMB();\n\n    // Import detector dynamically to avoid circular deps\n    const { getTriggerDetector } = await import('./trigger-detector.js');\n    const detector = getTriggerDetector();\n\n    for (let i = 0; i < iterations; i++) {\n      const prompt = prompts[i % prompts.length];\n      const start = performance.now();\n      detector.detect(prompt);\n      latencies.push(performance.now() - start);\n    }\n\n    const sorted = [...latencies].sort((a, b) => a - b);\n    const memEnd = getMemoryUsageMB();\n\n    const result: BenchmarkResult = {\n      name: 'Trigger Detection',\n      operation: 'detect',\n      count: iterations,\n      totalTimeMs: latencies.reduce((a, b) => a + b, 0),\n      avgTimeMs: latencies.reduce((a, b) => a + b, 0) / latencies.length,\n      minMs: sorted[0],\n      maxMs: sorted[sorted.length - 1],\n      p50Ms: calculatePercentile(sorted, 50),\n      p95Ms: calculatePercentile(sorted, 95),\n      p99Ms: calculatePercentile(sorted, 99),\n      throughput: (iterations / (latencies.reduce((a, b) => a + b, 0) / 1000)),\n      memoryDeltaMB: memEnd - memStart,\n      passed: calculatePercentile(sorted, 95) < 5, // Target: p95 < 5ms\n      target: 5,\n      details: {\n        histogram: createLatencyHistogram(latencies),\n        promptsWithTriggers: 8,\n        promptsWithoutTriggers: 2\n      }\n    };\n\n    this.results.push(result);\n    return result;\n  }\n\n  /**\n   * Benchmark worker registry operations\n   */\n  async benchmarkRegistryOperations(iterations: number = 500): Promise<BenchmarkResult> {\n    const triggers: WorkerTrigger[] = ['ultralearn', 'optimize', 'audit', 'benchmark', 'testgaps'];\n    const sessionId = `benchmark-${Date.now()}`;\n\n    const createLatencies: number[] = [];\n    const getLatencies: number[] = [];\n    const updateLatencies: number[] = [];\n    const workerIds: string[] = [];\n\n    const memStart = getMemoryUsageMB();\n\n    // Benchmark creates\n    for (let i = 0; i < iterations; i++) {\n      const trigger = triggers[i % triggers.length];\n      const start = performance.now();\n      const workerId = getWorkerRegistry().create(trigger, sessionId, `topic-${i}`);\n      createLatencies.push(performance.now() - start);\n      workerIds.push(workerId);\n    }\n\n    // Benchmark gets\n    for (const workerId of workerIds) {\n      const start = performance.now();\n      getWorkerRegistry().get(workerId);\n      getLatencies.push(performance.now() - start);\n    }\n\n    // Benchmark updates\n    for (const workerId of workerIds) {\n      const start = performance.now();\n      getWorkerRegistry().updateStatus(workerId, 'running', { progress: 50 });\n      updateLatencies.push(performance.now() - start);\n    }\n\n    const allLatencies = [...createLatencies, ...getLatencies, ...updateLatencies];\n    const sorted = [...allLatencies].sort((a, b) => a - b);\n    const memEnd = getMemoryUsageMB();\n\n    // Cleanup\n    for (const workerId of workerIds) {\n      try {\n        getWorkerRegistry().updateStatus(workerId, 'complete');\n      } catch {\n        // Ignore cleanup errors\n      }\n    }\n\n    const result: BenchmarkResult = {\n      name: 'Worker Registry',\n      operation: 'crud',\n      count: allLatencies.length,\n      totalTimeMs: allLatencies.reduce((a, b) => a + b, 0),\n      avgTimeMs: allLatencies.reduce((a, b) => a + b, 0) / allLatencies.length,\n      minMs: sorted[0],\n      maxMs: sorted[sorted.length - 1],\n      p50Ms: calculatePercentile(sorted, 50),\n      p95Ms: calculatePercentile(sorted, 95),\n      p99Ms: calculatePercentile(sorted, 99),\n      throughput: (allLatencies.length / (allLatencies.reduce((a, b) => a + b, 0) / 1000)),\n      memoryDeltaMB: memEnd - memStart,\n      passed: calculatePercentile(sorted, 95) < 10, // Target: p95 < 10ms\n      target: 10,\n      details: {\n        createAvgMs: createLatencies.reduce((a, b) => a + b, 0) / createLatencies.length,\n        getAvgMs: getLatencies.reduce((a, b) => a + b, 0) / getLatencies.length,\n        updateAvgMs: updateLatencies.reduce((a, b) => a + b, 0) / updateLatencies.length\n      }\n    };\n\n    this.results.push(result);\n    return result;\n  }\n\n  /**\n   * Benchmark agent selection performance\n   */\n  async benchmarkAgentSelection(iterations: number = 1000): Promise<BenchmarkResult> {\n    const triggers: WorkerTrigger[] = [\n      'ultralearn', 'optimize', 'audit', 'benchmark', 'testgaps',\n      'document', 'deepdive', 'refactor', 'map', 'preload'\n    ];\n\n    const latencies: number[] = [];\n    const memStart = getMemoryUsageMB();\n\n    for (let i = 0; i < iterations; i++) {\n      const trigger = triggers[i % triggers.length];\n      const start = performance.now();\n      workerAgentIntegration.selectBestAgent(trigger);\n      latencies.push(performance.now() - start);\n    }\n\n    const sorted = [...latencies].sort((a, b) => a - b);\n    const memEnd = getMemoryUsageMB();\n\n    const result: BenchmarkResult = {\n      name: 'Agent Selection',\n      operation: 'selectBestAgent',\n      count: iterations,\n      totalTimeMs: latencies.reduce((a, b) => a + b, 0),\n      avgTimeMs: latencies.reduce((a, b) => a + b, 0) / latencies.length,\n      minMs: sorted[0],\n      maxMs: sorted[sorted.length - 1],\n      p50Ms: calculatePercentile(sorted, 50),\n      p95Ms: calculatePercentile(sorted, 95),\n      p99Ms: calculatePercentile(sorted, 99),\n      throughput: (iterations / (latencies.reduce((a, b) => a + b, 0) / 1000)),\n      memoryDeltaMB: memEnd - memStart,\n      passed: calculatePercentile(sorted, 95) < 1, // Target: p95 < 1ms\n      target: 1,\n      details: {\n        triggersPerAgent: triggers.length\n      }\n    };\n\n    this.results.push(result);\n    return result;\n  }\n\n  /**\n   * Benchmark model cache performance\n   */\n  async benchmarkModelCache(iterations: number = 100): Promise<BenchmarkResult> {\n    const latencies: number[] = [];\n    const memStart = getMemoryUsageMB();\n\n    // Simulate cache operations\n    for (let i = 0; i < iterations; i++) {\n      const start = performance.now();\n\n      // Test cache stats retrieval\n      modelCache.getStats();\n\n      // Test cache key generation\n      const key = `benchmark-model-${i % 10}`;\n      modelCache.has(key);\n\n      latencies.push(performance.now() - start);\n    }\n\n    const sorted = [...latencies].sort((a, b) => a - b);\n    const memEnd = getMemoryUsageMB();\n    const cacheStats = modelCache.getStats();\n\n    const result: BenchmarkResult = {\n      name: 'Model Cache',\n      operation: 'cache-ops',\n      count: iterations,\n      totalTimeMs: latencies.reduce((a, b) => a + b, 0),\n      avgTimeMs: latencies.reduce((a, b) => a + b, 0) / latencies.length,\n      minMs: sorted[0],\n      maxMs: sorted[sorted.length - 1],\n      p50Ms: calculatePercentile(sorted, 50),\n      p95Ms: calculatePercentile(sorted, 95),\n      p99Ms: calculatePercentile(sorted, 99),\n      throughput: (iterations / (latencies.reduce((a, b) => a + b, 0) / 1000)),\n      memoryDeltaMB: memEnd - memStart,\n      passed: calculatePercentile(sorted, 95) < 0.5, // Target: p95 < 0.5ms\n      target: 0.5,\n      details: {\n        cacheHits: cacheStats.hits,\n        cacheMisses: cacheStats.misses,\n        cacheHitRate: cacheStats.hitRate,\n        cacheSize: cacheStats.size\n      }\n    };\n\n    this.results.push(result);\n    return result;\n  }\n\n  /**\n   * Benchmark concurrent worker handling\n   */\n  async benchmarkConcurrentWorkers(workerCount: number = 10): Promise<BenchmarkResult> {\n    const triggers: WorkerTrigger[] = ['ultralearn', 'optimize', 'audit'];\n    const sessionId = `concurrent-${Date.now()}`;\n    const workerIds: string[] = [];\n\n    const memStart = getMemoryUsageMB();\n    const startTime = performance.now();\n\n    // Create workers concurrently\n    const createPromises = Array.from({ length: workerCount }, (_, i) =>\n      Promise.resolve().then(() => {\n        const trigger = triggers[i % triggers.length];\n        return getWorkerRegistry().create(trigger, sessionId, `concurrent-${i}`);\n      })\n    );\n\n    const ids = await Promise.all(createPromises);\n    workerIds.push(...ids);\n\n    // Simulate concurrent status updates\n    const updatePromises = workerIds.map((id, i) =>\n      Promise.resolve().then(() => {\n        getWorkerRegistry().updateStatus(id, 'running', { progress: i * 10 });\n      })\n    );\n\n    await Promise.all(updatePromises);\n\n    const totalTime = performance.now() - startTime;\n    const memEnd = getMemoryUsageMB();\n\n    // Cleanup\n    for (const workerId of workerIds) {\n      try {\n        getWorkerRegistry().updateStatus(workerId, 'complete');\n      } catch {\n        // Ignore\n      }\n    }\n\n    const result: BenchmarkResult = {\n      name: 'Concurrent Workers',\n      operation: 'parallel-create-update',\n      count: workerCount * 2, // Creates + updates\n      totalTimeMs: totalTime,\n      avgTimeMs: totalTime / (workerCount * 2),\n      minMs: totalTime / (workerCount * 2),\n      maxMs: totalTime,\n      p50Ms: totalTime / 2,\n      p95Ms: totalTime,\n      p99Ms: totalTime,\n      throughput: ((workerCount * 2) / (totalTime / 1000)),\n      memoryDeltaMB: memEnd - memStart,\n      passed: totalTime < 1000, // Target: < 1s for all concurrent ops\n      target: 1000,\n      details: {\n        workerCount,\n        avgPerWorker: totalTime / workerCount\n      }\n    };\n\n    this.results.push(result);\n    return result;\n  }\n\n  /**\n   * Benchmark memory key generation\n   */\n  async benchmarkMemoryKeyGeneration(iterations: number = 5000): Promise<BenchmarkResult> {\n    const triggers: WorkerTrigger[] = ['ultralearn', 'optimize', 'audit', 'benchmark'];\n    const topics = ['auth', 'payment', 'user', 'api', 'database'];\n    const phases = ['discovery', 'analysis', 'extraction', 'storage'];\n\n    const latencies: number[] = [];\n    const memStart = getMemoryUsageMB();\n\n    for (let i = 0; i < iterations; i++) {\n      const trigger = triggers[i % triggers.length];\n      const topic = topics[i % topics.length];\n      const phase = phases[i % phases.length];\n\n      const start = performance.now();\n      workerAgentIntegration.generateMemoryKey(trigger, topic, phase);\n      latencies.push(performance.now() - start);\n    }\n\n    const sorted = [...latencies].sort((a, b) => a - b);\n    const memEnd = getMemoryUsageMB();\n\n    const result: BenchmarkResult = {\n      name: 'Memory Key Generation',\n      operation: 'generateMemoryKey',\n      count: iterations,\n      totalTimeMs: latencies.reduce((a, b) => a + b, 0),\n      avgTimeMs: latencies.reduce((a, b) => a + b, 0) / latencies.length,\n      minMs: sorted[0],\n      maxMs: sorted[sorted.length - 1],\n      p50Ms: calculatePercentile(sorted, 50),\n      p95Ms: calculatePercentile(sorted, 95),\n      p99Ms: calculatePercentile(sorted, 99),\n      throughput: (iterations / (latencies.reduce((a, b) => a + b, 0) / 1000)),\n      memoryDeltaMB: memEnd - memStart,\n      passed: calculatePercentile(sorted, 95) < 0.1, // Target: p95 < 0.1ms\n      target: 0.1,\n      details: {\n        uniquePatterns: triggers.length * topics.length * phases.length\n      }\n    };\n\n    this.results.push(result);\n    return result;\n  }\n\n  /**\n   * Run full benchmark suite\n   */\n  async runFullSuite(): Promise<BenchmarkSuite> {\n    this.results = [];\n    const startTime = Date.now();\n    const memStart = getMemoryUsageMB();\n\n    console.log('\\nüìä Running Worker Benchmark Suite\\n');\n    console.log('‚ïê'.repeat(60));\n\n    // Run all benchmarks\n    console.log('\\nüîç Trigger Detection...');\n    await this.benchmarkTriggerDetection();\n\n    console.log('üíæ Worker Registry...');\n    await this.benchmarkRegistryOperations();\n\n    console.log('ü§ñ Agent Selection...');\n    await this.benchmarkAgentSelection();\n\n    console.log('üì¶ Model Cache...');\n    await this.benchmarkModelCache();\n\n    console.log('‚ö° Concurrent Workers...');\n    await this.benchmarkConcurrentWorkers();\n\n    console.log('üîë Memory Key Generation...');\n    await this.benchmarkMemoryKeyGeneration();\n\n    const totalDuration = Date.now() - startTime;\n    const peakMemory = getMemoryUsageMB() - memStart;\n\n    const passed = this.results.filter(r => r.passed).length;\n    const avgLatency = this.results.reduce((sum, r) => sum + r.avgTimeMs, 0) / this.results.length;\n\n    const suite: BenchmarkSuite = {\n      name: 'Worker System Benchmarks',\n      description: 'Comprehensive performance tests for agentic-flow worker system',\n      timestamp: startTime,\n      results: this.results,\n      summary: {\n        totalTests: this.results.length,\n        passed,\n        failed: this.results.length - passed,\n        avgLatencyMs: avgLatency,\n        totalDurationMs: totalDuration,\n        peakMemoryMB: peakMemory\n      }\n    };\n\n    this.printResults(suite);\n    return suite;\n  }\n\n  /**\n   * Print formatted results\n   */\n  private printResults(suite: BenchmarkSuite): void {\n    console.log('\\n' + '‚ïê'.repeat(60));\n    console.log('üìà BENCHMARK RESULTS');\n    console.log('‚ïê'.repeat(60));\n\n    for (const result of suite.results) {\n      const status = result.passed ? '‚úÖ' : '‚ùå';\n      const target = result.target ? ` (target: ${result.target}ms)` : '';\n\n      console.log(`\\n${status} ${result.name}`);\n      console.log(`   Operation: ${result.operation}`);\n      console.log(`   Count: ${result.count.toLocaleString()}`);\n      console.log(`   Avg: ${result.avgTimeMs.toFixed(3)}ms | p95: ${result.p95Ms.toFixed(3)}ms${target}`);\n      console.log(`   Throughput: ${result.throughput.toFixed(0)} ops/s`);\n      console.log(`   Memory Œî: ${result.memoryDeltaMB.toFixed(2)}MB`);\n    }\n\n    console.log('\\n' + '‚îÄ'.repeat(60));\n    console.log('üìä SUMMARY');\n    console.log('‚îÄ'.repeat(60));\n    console.log(`Total Tests: ${suite.summary.totalTests}`);\n    console.log(`Passed: ${suite.summary.passed} | Failed: ${suite.summary.failed}`);\n    console.log(`Avg Latency: ${suite.summary.avgLatencyMs.toFixed(3)}ms`);\n    console.log(`Total Duration: ${suite.summary.totalDurationMs}ms`);\n    console.log(`Peak Memory: ${suite.summary.peakMemoryMB.toFixed(2)}MB`);\n    console.log('‚ïê'.repeat(60) + '\\n');\n  }\n\n  /**\n   * Get last results\n   */\n  getResults(): BenchmarkResult[] {\n    return this.results;\n  }\n}\n\n// Singleton instance\nexport const workerBenchmarks = new WorkerBenchmarks();\n\n// ============================================================================\n// CLI Runner\n// ============================================================================\n\nexport async function runBenchmarks(): Promise<BenchmarkSuite> {\n  return workerBenchmarks.runFullSuite();\n}\n\n// Run if executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  runBenchmarks()\n    .then(suite => {\n      process.exit(suite.summary.failed > 0 ? 1 : 0);\n    })\n    .catch(err => {\n      console.error('Benchmark error:', err);\n      process.exit(1);\n    });\n}\n"]}