{"version":3,"file":"hooks-server.js","sourceRoot":"","sources":["../../../../src/mcp/fastmcp/servers/hooks-server.ts"],"names":[],"mappings":"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","sourcesContent":["#!/usr/bin/env node\n/**\n * FastMCP Hook Server - Intelligent agent routing and self-learning\n *\n * 19 tools total:\n * - 10 hook tools (pre/post edit, command, routing, etc.)\n * - 9 intelligence tools (SONA, attention, trajectory, patterns)\n *\n * RuVector Intelligence Features:\n * - @ruvector/sona: Micro-LoRA (~0.05ms), EWC++, Trajectory tracking\n * - @ruvector/attention: MoE, Flash, Hyperbolic, Graph attention\n * - ruvector core: HNSW indexing (150x faster)\n */\n\nimport { FastMCP } from 'fastmcp';\nimport { allHookTools, hookTools, intelligenceTools } from '../tools/hooks/index.js';\n\nconsole.error('ğŸ§  Starting FastMCP Hook Server with RuVector Intelligence...');\nconsole.error(`ğŸ“¦ Loading ${allHookTools.length} tools (${hookTools.length} hooks + ${intelligenceTools.length} intelligence)`);\n\n// Create server\nconst server = new FastMCP({\n  name: 'agentic-flow-hooks',\n  version: '2.0.0'\n});\n\n// Register all hook tools (includes intelligence tools)\nfor (const tool of allHookTools) {\n  server.addTool({\n    name: tool.name,\n    description: tool.description,\n    parameters: tool.parameters,\n    execute: async (args: any) => {\n      const result = await tool.execute(args, {\n        onProgress: (update) => {\n          console.error(`[${tool.name}] ${update.message} (${Math.round(update.progress * 100)}%)`);\n        }\n      });\n      return JSON.stringify(result, null, 2);\n    }\n  });\n\n  // Mark intelligence tools differently\n  const isIntelligence = tool.name.startsWith('intelligence_');\n  const marker = isIntelligence ? 'âš¡' : 'âœ“';\n  console.error(`  ${marker} Registered: ${tool.name}`);\n}\n\nconsole.error('');\nconsole.error('âœ… Hook Tools (10):');\nconsole.error('   hook_pre_edit, hook_post_edit, hook_pre_command, hook_post_command');\nconsole.error('   hook_route, hook_explain, hook_pretrain, hook_build_agents');\nconsole.error('   hook_metrics, hook_transfer');\nconsole.error('');\nconsole.error('âš¡ Intelligence Tools (9):');\nconsole.error('   intelligence_route (SONA + MoE + HNSW)');\nconsole.error('   intelligence_trajectory_start/step/end (learning)');\nconsole.error('   intelligence_pattern_store/search (ReasoningBank)');\nconsole.error('   intelligence_stats, intelligence_learn, intelligence_attention');\nconsole.error('');\nconsole.error('ğŸ”Œ Starting stdio transport...');\n\n// Start server\nserver.start({ transportType: 'stdio' }).then(() => {\n  console.error('âœ… Hook Server running on stdio with RuVector Intelligence');\n}).catch((error) => {\n  console.error('âŒ Failed to start:', error);\n  process.exit(1);\n});\n"]}