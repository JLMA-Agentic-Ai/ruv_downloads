{"version":3,"file":"enhanced-booster-tools.js","sourceRoot":"","sources":["../../../src/mcp/tools/enhanced-booster-tools.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Enhanced Agent Booster MCP Tools\n *\n * RuVector-powered code editing with:\n * - SONA learning (0.05ms updates)\n * - HNSW cache (150x faster pattern recall)\n * - GNN matching (differentiable search)\n * - Confidence improvement through learning\n */\n\nimport { z } from 'zod';\n\n// Lazy import to avoid startup cost\nlet EnhancedAgentBooster: any = null;\nlet getEnhancedBooster: any = null;\nlet benchmark: any = null;\n\nasync function loadEnhancedBooster() {\n  if (!EnhancedAgentBooster) {\n    const module = await import('../../intelligence/agent-booster-enhanced.js');\n    EnhancedAgentBooster = module.EnhancedAgentBooster;\n    getEnhancedBooster = module.getEnhancedBooster;\n    benchmark = module.benchmark;\n  }\n  return { EnhancedAgentBooster, getEnhancedBooster, benchmark };\n}\n\n/**\n * MCP Tool definitions for enhanced booster v2\n */\nexport const enhancedBoosterTools = [\n  {\n    name: 'enhanced_booster_edit',\n    description: `RuVector-enhanced code editing v2 with full intelligence stack.\n\nFeatures:\n- Exact cache: 0ms for identical patterns\n- Fuzzy match: 1-5ms for similar patterns (var x â†’ var y)\n- GNN search: Differentiable soft attention matching\n- ONNX embeddings: Semantic code understanding\n- Error learning: Avoids known bad patterns\n- SONA learning: Continuous improvement with EWC++\n\nReturns strategy: exact_cache, fuzzy_match, gnn_match, error_avoided, or agent_booster`,\n    inputSchema: {\n      type: 'object',\n      properties: {\n        code: {\n          type: 'string',\n          description: 'Original code to edit'\n        },\n        edit: {\n          type: 'string',\n          description: 'Target edit or new code'\n        },\n        language: {\n          type: 'string',\n          description: 'Programming language (javascript, typescript, python, etc.)'\n        },\n        filePath: {\n          type: 'string',\n          description: 'Optional file path for context'\n        }\n      },\n      required: ['code', 'edit', 'language']\n    }\n  },\n  {\n    name: 'enhanced_booster_edit_file',\n    description: `Edit a file using RuVector-enhanced agent booster.\n\nReads file, applies edit, writes result if successful.\nUses cached patterns for instant edits when available.`,\n    inputSchema: {\n      type: 'object',\n      properties: {\n        target_filepath: {\n          type: 'string',\n          description: 'Path of the file to modify'\n        },\n        edit: {\n          type: 'string',\n          description: 'Target edit or code changes'\n        },\n        language: {\n          type: 'string',\n          description: 'Programming language (auto-detected if not provided)'\n        }\n      },\n      required: ['target_filepath', 'edit']\n    }\n  },\n  {\n    name: 'enhanced_booster_stats',\n    description: 'Get enhanced agent booster statistics including cache hit rate, learned patterns, and confidence improvement',\n    inputSchema: {\n      type: 'object',\n      properties: {},\n      required: []\n    }\n  },\n  {\n    name: 'enhanced_booster_pretrain',\n    description: 'Pretrain the enhanced booster with common code patterns for faster cold starts',\n    inputSchema: {\n      type: 'object',\n      properties: {},\n      required: []\n    }\n  },\n  {\n    name: 'enhanced_booster_benchmark',\n    description: 'Run benchmark comparing enhanced vs baseline agent-booster performance',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        iterations: {\n          type: 'number',\n          description: 'Number of iterations (default: 20)',\n          default: 20\n        }\n      },\n      required: []\n    }\n  },\n  {\n    name: 'enhanced_booster_record_outcome',\n    description: 'Record edit outcome (success/failure) for learning. Call this after verifying edit worked.',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        patternId: {\n          type: 'string',\n          description: 'Pattern ID from the edit result'\n        },\n        success: {\n          type: 'boolean',\n          description: 'Whether the edit was successful'\n        }\n      },\n      required: ['patternId', 'success']\n    }\n  },\n  {\n    name: 'enhanced_booster_batch',\n    description: 'Apply multiple edits in parallel (4x faster for multi-file changes)',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        edits: {\n          type: 'array',\n          description: 'Array of edit requests',\n          items: {\n            type: 'object',\n            properties: {\n              code: { type: 'string' },\n              edit: { type: 'string' },\n              language: { type: 'string' },\n              filePath: { type: 'string' }\n            },\n            required: ['code', 'edit', 'language']\n          }\n        },\n        maxConcurrency: {\n          type: 'number',\n          description: 'Max parallel edits (default: 4)',\n          default: 4\n        }\n      },\n      required: ['edits']\n    }\n  },\n  {\n    name: 'enhanced_booster_prefetch',\n    description: 'Prefetch likely edits for a file based on co-edit patterns and language',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        filePath: {\n          type: 'string',\n          description: 'File path to prefetch patterns for'\n        }\n      },\n      required: ['filePath']\n    }\n  },\n  {\n    name: 'enhanced_booster_likely_files',\n    description: 'Get files likely to be edited next based on co-edit history',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        filePath: {\n          type: 'string',\n          description: 'Current file being edited'\n        },\n        topK: {\n          type: 'number',\n          description: 'Number of suggestions (default: 5)',\n          default: 5\n        }\n      },\n      required: ['filePath']\n    }\n  }\n];\n\n/**\n * MCP Tool handlers\n */\nexport const enhancedBoosterHandlers = {\n  enhanced_booster_edit: async (params: {\n    code: string;\n    edit: string;\n    language: string;\n    filePath?: string;\n  }) => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n\n    const result = await booster.apply({\n      code: params.code,\n      edit: params.edit,\n      language: params.language,\n      filePath: params.filePath\n    });\n\n    const strategyEmoji: Record<string, string> = {\n      exact_cache: 'ğŸ¯ EXACT CACHE HIT',\n      fuzzy_match: 'ğŸ”® FUZZY MATCH',\n      gnn_match: 'ğŸ§  GNN MATCH',\n      error_avoided: 'âš ï¸ ERROR AVOIDED',\n      agent_booster: 'ğŸ”§ AGENT BOOSTER',\n      fallback: 'âŒ FALLBACK'\n    };\n\n    return {\n      content: [{\n        type: 'text',\n        text: `âš¡ Enhanced Agent Booster v2 Result:\n\nStrategy: ${strategyEmoji[result.strategy] || result.strategy}\nSuccess: ${result.success ? 'âœ…' : 'âŒ'}\nConfidence: ${(result.confidence * 100).toFixed(1)}%\nLatency: ${result.latency}ms\n${result.fuzzyScore ? `Fuzzy Score: ${(result.fuzzyScore * 100).toFixed(1)}%` : ''}\n${result.learned ? 'ğŸ“š Pattern learned for future use' : ''}\n${result.similarPatterns ? `ğŸ” Found ${result.similarPatterns} similar patterns` : ''}\n${result.patternId ? `Pattern ID: ${result.patternId}` : ''}\n\nOutput:\n${result.output}`\n      }]\n    };\n  },\n\n  enhanced_booster_edit_file: async (params: {\n    target_filepath: string;\n    edit: string;\n    language?: string;\n  }) => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const fs = await import('fs');\n    const path = await import('path');\n\n    if (!fs.existsSync(params.target_filepath)) {\n      return {\n        content: [{\n          type: 'text',\n          text: `âŒ File not found: ${params.target_filepath}`\n        }],\n        isError: true\n      };\n    }\n\n    const code = fs.readFileSync(params.target_filepath, 'utf8');\n    const language = params.language || path.extname(params.target_filepath).slice(1);\n\n    const booster = getEnhancedBooster();\n    const result = await booster.apply({\n      code,\n      edit: params.edit,\n      language,\n      filePath: params.target_filepath\n    });\n\n    if (result.success && result.confidence > 0.7) {\n      fs.writeFileSync(params.target_filepath, result.output, 'utf8');\n    }\n\n    const stats = booster.getStats();\n\n    return {\n      content: [{\n        type: 'text',\n        text: `âš¡ Enhanced File Edit Result:\n\nğŸ“ File: ${params.target_filepath}\nStrategy: ${result.strategy}\n${result.cacheHit ? 'ğŸ¯ CACHE HIT!' : ''}\nSuccess: ${result.success ? 'âœ… Written' : 'âŒ Failed'}\nConfidence: ${(result.confidence * 100).toFixed(1)}%\nLatency: ${result.latency}ms\n${result.learned ? 'ğŸ“š Pattern learned' : ''}\n\nğŸ“Š Session Stats:\n   Cache Hit Rate: ${stats.hitRate}\n   Patterns Learned: ${stats.patternsLearned}\n   Avg Confidence: ${(stats.avgConfidence * 100).toFixed(1)}%\n   ${result.patternId ? `Pattern ID: ${result.patternId}` : ''}`\n      }]\n    };\n  },\n\n  enhanced_booster_stats: async () => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n    const stats = booster.getStats();\n    const intelligence = booster.getIntelligenceStats();\n\n    return {\n      content: [{\n        type: 'text',\n        text: `ğŸ“Š Enhanced Agent Booster Statistics\n\nğŸ¯ Performance:\n   Total Edits: ${stats.totalEdits}\n   Cache Hits: ${stats.cacheHits}\n   Fuzzy Hits: ${stats.fuzzyHits}\n   GNN Hits: ${stats.gnnHits}\n   Cache Misses: ${stats.cacheMisses}\n   Hit Rate: ${stats.hitRate}\n   Avg Latency: ${stats.avgLatency.toFixed(1)}ms\n\nğŸ“š Learning:\n   Patterns Learned: ${stats.patternsLearned}\n   SONA Updates: ${stats.sonaUpdates}\n   GNN Searches: ${stats.gnnSearches}\n   Avg Confidence: ${(stats.avgConfidence * 100).toFixed(1)}%\n   Confidence Improvement: ${stats.confidenceImprovement}\n\nğŸ—œï¸ Tiered Compression:\n   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n   â”‚ Tier      â”‚ Count â”‚ Access Freq â”‚ Memory Save  â”‚\n   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n   â”‚ ğŸ”¥ Hot    â”‚ ${String(stats.tierDistribution?.hot || 0).padStart(5)} â”‚ >80%        â”‚ 0%           â”‚\n   â”‚ ğŸŒ¡ï¸ Warm   â”‚ ${String(stats.tierDistribution?.warm || 0).padStart(5)} â”‚ 40-80%      â”‚ 50%          â”‚\n   â”‚ â„ï¸ Cool   â”‚ ${String(stats.tierDistribution?.cool || 0).padStart(5)} â”‚ 10-40%      â”‚ 87.5%        â”‚\n   â”‚ ğŸ§Š Cold   â”‚ ${String(stats.tierDistribution?.cold || 0).padStart(5)} â”‚ 1-10%       â”‚ 93.75%       â”‚\n   â”‚ ğŸ“¦ Archiveâ”‚ ${String(stats.tierDistribution?.archive || 0).padStart(5)} â”‚ <1%         â”‚ 96.9%        â”‚\n   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   Total Pattern Accesses: ${stats.totalPatternAccesses}\n   Compression Ratio: ${stats.compressionRatio}\n   Memory Savings: ${stats.memorySavings}\n\n${intelligence ? `ğŸ§  Intelligence Engine:\n   Memories: ${intelligence.totalMemories}\n   Episodes: ${intelligence.totalEpisodes}\n   Trajectories: ${intelligence.trajectoriesRecorded}\n   SONA Enabled: ${intelligence.sonaEnabled}\n   ONNX Enabled: ${intelligence.onnxEnabled}` : ''}`\n      }]\n    };\n  },\n\n  enhanced_booster_pretrain: async () => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n\n    const result = await booster.pretrain();\n\n    return {\n      content: [{\n        type: 'text',\n        text: `ğŸš€ Pretrain Complete!\n\nPatterns Added: ${result.patterns}\nTime: ${result.timeMs}ms\n\nCommon patterns cached:\n- Variable conversions (var â†’ const)\n- Type annotations (TypeScript)\n- Async/await conversions\n- Error handling wrappers\n- Console removal\n- Python type hints\n- Module import conversions\n\nCache is now warm for instant edits! âš¡`\n      }]\n    };\n  },\n\n  enhanced_booster_benchmark: async (params: { iterations?: number }) => {\n    const { benchmark } = await loadEnhancedBooster();\n\n    const result = await benchmark(params.iterations || 20);\n\n    return {\n      content: [{\n        type: 'text',\n        text: `ğŸ“ˆ Enhanced vs Baseline Benchmark\n\nğŸ”§ Baseline (agent-booster):\n   Avg Latency: ${result.baseline.avgLatency.toFixed(1)}ms\n   Avg Confidence: ${(result.baseline.avgConfidence * 100).toFixed(1)}%\n\nâš¡ Enhanced (RuVector):\n   Avg Latency: ${result.enhanced.avgLatency.toFixed(1)}ms\n   Avg Confidence: ${(result.enhanced.avgConfidence * 100).toFixed(1)}%\n   Cache Hit Rate: ${(result.enhanced.cacheHitRate * 100).toFixed(1)}%\n\nğŸ¯ Improvement:\n   Latency: ${result.improvement.latency}\n   Confidence: ${result.improvement.confidence}\n\nThe enhanced booster learns from each edit and gets faster over time! ğŸš€`\n      }]\n    };\n  },\n\n  enhanced_booster_record_outcome: async (params: {\n    patternId: string;\n    success: boolean;\n  }) => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n\n    await booster.recordOutcome(params.patternId, params.success);\n\n    return {\n      content: [{\n        type: 'text',\n        text: `ğŸ“ Outcome Recorded\n\nPattern: ${params.patternId}\nResult: ${params.success ? 'âœ… Success - confidence boosted' : 'âŒ Failure - confidence reduced'}\n\nThis feedback improves future predictions!`\n      }]\n    };\n  },\n\n  enhanced_booster_batch: async (params: {\n    edits: Array<{\n      code: string;\n      edit: string;\n      language: string;\n      filePath?: string;\n    }>;\n    maxConcurrency?: number;\n  }) => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n\n    const results = await booster.applyBatch(params.edits, params.maxConcurrency || 4);\n\n    const successful = results.filter(r => r.success).length;\n    const cacheHits = results.filter(r => r.cacheHit).length;\n    const fuzzyHits = results.filter(r => r.strategy === 'fuzzy_match').length;\n    const totalLatency = results.reduce((sum, r) => sum + r.latency, 0);\n\n    return {\n      content: [{\n        type: 'text',\n        text: `âš¡ Batch Edit Results:\n\nğŸ“Š Summary:\n   Total: ${results.length}\n   Successful: ${successful}\n   Cache Hits: ${cacheHits}\n   Fuzzy Matches: ${fuzzyHits}\n   Total Latency: ${totalLatency}ms\n   Avg Latency: ${(totalLatency / results.length).toFixed(1)}ms\n\n${results.map((r, i) =>\n  `${i + 1}. ${r.success ? 'âœ…' : 'âŒ'} ${r.strategy} (${r.latency}ms)`\n).join('\\n')}`\n      }]\n    };\n  },\n\n  enhanced_booster_prefetch: async (params: { filePath: string }) => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n\n    const result = await booster.prefetch(params.filePath);\n\n    return {\n      content: [{\n        type: 'text',\n        text: `ğŸ”® Prefetch Results for ${params.filePath}:\n\nConfidence: ${(result.confidence * 100).toFixed(0)}%\n\nLikely edits:\n${result.likelyEdits.length > 0\n  ? result.likelyEdits.map((e, i) => `  ${i + 1}. ${e}`).join('\\n')\n  : '  No patterns learned yet for this file type'}\n\nPatterns are being pre-warmed in background...`\n      }]\n    };\n  },\n\n  enhanced_booster_likely_files: async (params: {\n    filePath: string;\n    topK?: number;\n  }) => {\n    const { getEnhancedBooster } = await loadEnhancedBooster();\n    const booster = getEnhancedBooster();\n\n    const files = booster.getLikelyNextFiles(params.filePath, params.topK || 5);\n\n    return {\n      content: [{\n        type: 'text',\n        text: `ğŸ“ Likely Next Files to Edit:\n\nCurrent: ${params.filePath}\n\n${files.length > 0\n  ? files.map((f, i) => `  ${i + 1}. ${f.file} (score: ${f.score})`).join('\\n')\n  : '  No co-edit history yet. Edit more files to build the graph!'}\n\nBased on co-edit patterns across sessions.`\n      }]\n    };\n  }\n};\n\nexport default { tools: enhancedBoosterTools, handlers: enhancedBoosterHandlers };\n"]}